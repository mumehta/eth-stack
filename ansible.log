2022-11-13 13:35:30,556 p=215097 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-13 13:35:30,692 p=215097 u=munish n=ansible | PLAY [build docker image] *****************************************************************************************************************************************************************************************
2022-11-13 13:35:30,699 p=215097 u=munish n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************************************************
2022-11-13 13:35:31,700 p=215097 u=munish n=ansible | ok: [localhost]
2022-11-13 13:35:31,717 p=215097 u=munish n=ansible | TASK [Build docker image] *****************************************************************************************************************************************************************************************
2022-11-13 13:35:32,183 p=215097 u=munish n=ansible | ok: [localhost]
2022-11-13 13:35:32,201 p=215097 u=munish n=ansible | PLAY [Mariabd Galera Cluster] *************************************************************************************************************************************************************************************
2022-11-13 13:35:32,204 p=215097 u=munish n=ansible | TASK [Gathering Facts] ********************************************************************************************************************************************************************************************
2022-11-13 13:35:33,333 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:35:33,365 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:35:33,366 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:35:33,414 p=215097 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] *********************************************************************************************************************************************************************
2022-11-13 13:35:33,567 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] **********************************************************************************************************************************************
2022-11-13 13:35:33,628 p=215097 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-13 13:35:33,631 p=215097 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-13 13:35:33,633 p=215097 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-13 13:35:33,643 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] ************************************************************************************************************
2022-11-13 13:35:33,710 p=215097 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-13 13:35:33,714 p=215097 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-13 13:35:33,723 p=215097 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-13 13:35:33,732 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] **************************************************************************************
2022-11-13 13:35:33,766 p=215097 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-13 13:35:33,775 p=215097 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-13 13:35:33,789 p=215097 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-13 13:35:33,796 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] *******************************************************************************
2022-11-13 13:35:33,836 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:35:33,837 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:35:33,852 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:35:33,861 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] **********************************************************************************************************************************************
2022-11-13 13:35:47,235 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:35:47,382 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:35:47,881 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:35:47,888 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] **********************************************************************************************************************************************
2022-11-13 13:36:34,439 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:36:35,426 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:36:36,140 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:36:36,146 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] *****************************************************************************************************************************************
2022-11-13 13:36:38,835 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:36:38,835 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:36:38,859 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:36:38,873 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] *****************************************************************************************************************************************
2022-11-13 13:36:38,925 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:36:38,959 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:36:38,970 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:36:38,982 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] *********************************************************************************************************************************************
2022-11-13 13:36:39,850 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:36:39,892 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:36:39,953 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:36:39,960 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] **********************************************************************************************************************************************
2022-11-13 13:36:44,131 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:36:44,143 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:36:44,159 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:36:44,171 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] *********************************************************************************
2022-11-13 13:36:44,210 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:36:44,227 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:36:44,233 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:36:44,243 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] ********************************************************************************************************************************************
2022-11-13 13:36:44,286 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:36:44,301 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:36:44,313 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:36:44,321 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] ******************************************************************************************************************************************
2022-11-13 13:36:44,979 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:36:44,994 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:36:45,073 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:36:45,081 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] **************************************************************************************************************************************
2022-11-13 13:36:45,719 p=215097 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-13 13:36:45,744 p=215097 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-13 13:36:45,775 p=215097 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-13 13:36:46,176 p=215097 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-13 13:36:46,185 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:36:46,259 p=215097 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-13 13:36:46,259 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:36:46,318 p=215097 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-13 13:36:46,319 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:36:46,327 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] *******************************************************************************************************************************
2022-11-13 13:37:50,368 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:37:52,055 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:37:52,440 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:37:52,448 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] **********************************************************************************************************************************************
2022-11-13 13:37:52,468 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,485 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,495 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,503 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] **************************************************************************************************************************
2022-11-13 13:37:52,524 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,547 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,557 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,568 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] ****************************************************************************************************************************
2022-11-13 13:37:52,611 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,614 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,626 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,636 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] **********************************************************************************************************************************************
2022-11-13 13:37:52,680 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,690 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,696 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,705 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] *************************************************************************************
2022-11-13 13:37:52,748 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,753 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,766 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,774 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] ********************************************************************************************************************************************
2022-11-13 13:37:52,801 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,817 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,836 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,846 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] *****************************************************************************************************************************************
2022-11-13 13:37:52,893 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,902 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,908 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,922 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***********************************************************************************
2022-11-13 13:37:52,949 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:52,969 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:52,979 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:52,989 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] ************************************************************************************************************************
2022-11-13 13:37:53,012 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,033 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,047 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,060 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] ********************************************************************************************************************************************
2022-11-13 13:37:53,093 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,120 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,132 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,144 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] **********************************************************************************************************************************
2022-11-13 13:37:53,186 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,190 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,201 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,215 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] ******************************************************************************************************************************************
2022-11-13 13:37:53,267 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,268 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,282 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,291 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] ********************************************************************************************************************************
2022-11-13 13:37:53,333 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,343 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,352 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,368 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] *****************************************************************************************************************************************
2022-11-13 13:37:53,411 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,414 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,427 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,436 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] *******************************************************************************************************************************
2022-11-13 13:37:53,477 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,489 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,495 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,508 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] **************************************************************************************************************************
2022-11-13 13:37:53,550 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:53,552 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,568 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:53,581 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] ******************************************************************************************************************************************
2022-11-13 13:37:53,592 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] ***********************************************************************************************************************************
2022-11-13 13:37:53,653 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:53,670 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:55,374 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:37:55,386 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] ***************************************************************************************************************************************
2022-11-13 13:37:55,737 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:37:55,749 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] *************************************************************************************************************************************
2022-11-13 13:37:55,765 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:55,779 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via unix_socket] ********************************************************************************************************************
2022-11-13 13:37:55,806 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:37:55,820 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via mysql_native_password] **********************************************************************************************************
2022-11-13 13:37:55,838 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:55,860 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_users | create MySQL users] ******************************************************************************************************************************************
2022-11-13 13:37:55,882 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:55,891 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | mark galera cluster node unconfigured] *********************************************************************************************************************
2022-11-13 13:37:55,917 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:55,945 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:55,953 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:55,961 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | checking if galera cluster already configured] *************************************************************************************************************
2022-11-13 13:37:56,328 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:37:56,328 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:37:56,363 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:37:56,370 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | create TLS certificates directory] *************************************************************************************************************************
2022-11-13 13:37:56,411 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:56,412 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:56,432 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:56,445 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | copy TLS CA cert, server cert & private key] ***************************************************************************************************************
2022-11-13 13:37:56,495 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:56,496 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:56,505 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:56,514 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP ist.recv_] ***********************************************************************************************************************************************************
2022-11-13 13:37:56,580 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:37:56,581 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:37:56,589 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:37:56,596 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP TLS encryption settings] *********************************************************************************************************************************************
2022-11-13 13:37:56,614 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:56,630 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:56,639 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:56,646 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Add galera_use_gmcast_segment if present] **********************************************************************************************************************************
2022-11-13 13:37:56,678 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:56,680 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:56,693 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:56,704 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Show all galera_extra_wsrep_provider_options] ******************************************************************************************************************************
2022-11-13 13:37:56,732 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:56,749 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:37:56,763 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:56,771 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | configuring settings for mariadb and galera] ***************************************************************************************************************
2022-11-13 13:37:57,418 p=215097 u=munish n=ansible | changed: [target1] => (item=etc/mysql/debian.cnf)
2022-11-13 13:37:57,468 p=215097 u=munish n=ansible | changed: [target2] => (item=etc/mysql/debian.cnf)
2022-11-13 13:37:57,623 p=215097 u=munish n=ansible | changed: [target3] => (item=etc/mysql/debian.cnf)
2022-11-13 13:37:58,116 p=215097 u=munish n=ansible | changed: [target1] => (item=etc/mysql/my.cnf)
2022-11-13 13:37:58,138 p=215097 u=munish n=ansible | changed: [target2] => (item=etc/mysql/my.cnf)
2022-11-13 13:37:58,329 p=224944 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-11-13 13:37:58,380 p=215097 u=munish n=ansible | changed: [target3] => (item=etc/mysql/my.cnf)
2022-11-13 13:37:58,420 p=224945 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-11-13 13:37:58,584 p=224948 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-11-13 13:37:59,052 p=215097 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-13 13:37:59,128 p=215097 u=munish n=ansible | changed: [target2] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-13 13:37:59,232 p=215097 u=munish n=ansible | changed: [target3] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-13 13:37:59,239 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (first node)] ***********************************************************************************************
2022-11-13 13:37:59,258 p=215097 u=munish n=ansible | skipping: [target1] => (item=target1) 
2022-11-13 13:37:59,271 p=215097 u=munish n=ansible | skipping: [target2] => (item=target1) 
2022-11-13 13:37:59,288 p=215097 u=munish n=ansible | skipping: [target3] => (item=target1) 
2022-11-13 13:37:59,296 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (other nodes)] **********************************************************************************************
2022-11-13 13:37:59,321 p=215097 u=munish n=ansible | skipping: [target1] => (item=target2) 
2022-11-13 13:37:59,322 p=215097 u=munish n=ansible | skipping: [target1] => (item=target3) 
2022-11-13 13:37:59,351 p=215097 u=munish n=ansible | skipping: [target2] => (item=target2) 
2022-11-13 13:37:59,352 p=215097 u=munish n=ansible | skipping: [target2] => (item=target3) 
2022-11-13 13:37:59,372 p=215097 u=munish n=ansible | skipping: [target3] => (item=target2) 
2022-11-13 13:37:59,373 p=215097 u=munish n=ansible | skipping: [target3] => (item=target3) 
2022-11-13 13:37:59,391 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (other nodes)] *********************************************************************************
2022-11-13 13:37:59,560 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target2)
2022-11-13 13:37:59,563 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target3)
2022-11-13 13:37:59,582 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] *********************************************************************************************************************
2022-11-13 13:37:59,603 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:59,634 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:37:59,901 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:37:59,906 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:37:59,922 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:37:59,946 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:00,224 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:38:00,229 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:38:00,245 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:00,261 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:00,267 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:00,280 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:38:00,315 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:00,337 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:00,348 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:00,358 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] *********************************************************************************************************************
2022-11-13 13:38:00,382 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:00,403 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:00,699 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:38:00,706 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:38:00,735 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:00,741 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:01,029 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:38:01,035 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:38:01,051 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:01,063 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:01,078 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:01,096 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:38:01,128 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:01,158 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:01,177 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:01,187 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (first node)] **********************************************************************************
2022-11-13 13:38:01,279 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-13 13:38:01,308 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] *********************************************************************************************************************
2022-11-13 13:38:01,353 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:01,353 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:02,699 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:38:02,706 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:38:02,752 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:02,767 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:03,015 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:38:03,024 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:38:03,041 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:03,055 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:03,067 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:03,087 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:38:03,121 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:03,148 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:03,166 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:03,174 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | custer bootstrap - killing lingering mysql processes to ensure mysql is stopped] ***************************************************************************
2022-11-13 13:38:03,643 p=215097 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.003616", "end": "2022-11-13 02:38:03.556684", "msg": "non-zero return code", "rc": 1, "start": "2022-11-13 02:38:03.553068", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-13 13:38:03,643 p=215097 u=munish n=ansible | ...ignoring
2022-11-13 13:38:03,663 p=215097 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.005089", "end": "2022-11-13 02:38:03.593374", "msg": "non-zero return code", "rc": 1, "start": "2022-11-13 02:38:03.588285", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-13 13:38:03,663 p=215097 u=munish n=ansible | ...ignoring
2022-11-13 13:38:03,726 p=215097 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.004176", "end": "2022-11-13 02:38:03.694684", "msg": "non-zero return code", "rc": 1, "start": "2022-11-13 02:38:03.690508", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-13 13:38:03,726 p=215097 u=munish n=ansible | ...ignoring
2022-11-13 13:38:03,734 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring temp galera config for first node] *****************************************************************************************
2022-11-13 13:38:03,774 p=215097 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-13 13:38:03,794 p=215097 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-13 13:38:03,905 p=226085 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-11-13 13:38:04,309 p=215097 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-13 13:38:04,318 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | update galera_new_cluster and use /etc/init.d/ instead of systemctl] ***************************************************************************************
2022-11-13 13:38:04,639 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:38:04,693 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:38:04,761 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:38:04,774 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - bootstrapping first node] **************************************************************************************************************
2022-11-13 13:38:04,814 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:04,824 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:07,421 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:38:07,427 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - ensure first node is fully started before joining other nodes] *************************************************************************
2022-11-13 13:38:07,498 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-13 13:38:07,533 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] *********************************************************************************************************************
2022-11-13 13:38:07,565 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:07,581 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:07,850 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:38:07,857 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:38:07,875 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:07,894 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:07,897 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:07,908 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:38:07,960 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:07,967 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:08,234 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:38:08,246 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:38:08,299 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:08,326 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:23,650 p=215097 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-13 13:38:23,668 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - joining galera cluster] ****************************************************************************************************************
2022-11-13 13:38:23,762 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target2)
2022-11-13 13:38:23,765 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target3)
2022-11-13 13:38:23,801 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] *********************************************************************************************************************
2022-11-13 13:38:23,817 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:23,911 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:28,875 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:38:28,882 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:38:28,898 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:28,918 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:28,920 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:28,927 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:38:28,966 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:28,994 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:29,299 p=215097 u=munish n=ansible | ok: [target2]
2022-11-13 13:38:29,325 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:38:29,361 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:29,418 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:44,606 p=215097 u=munish n=ansible | ok: [target2 -> localhost]
2022-11-13 13:38:44,615 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] *********************************************************************************************************************
2022-11-13 13:38:44,655 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:44,656 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:51,947 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:38:51,954 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:38:51,974 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:51,990 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:52,002 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:38:52,010 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:38:52,042 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:52,063 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:38:52,366 p=215097 u=munish n=ansible | ok: [target3]
2022-11-13 13:38:52,379 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:38:52,410 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:38:52,431 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:07,625 p=215097 u=munish n=ansible | ok: [target3 -> localhost]
2022-11-13 13:39:07,634 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring final galera config for first node] ****************************************************************************************
2022-11-13 13:39:07,693 p=215097 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/debian.cnf) 
2022-11-13 13:39:07,694 p=215097 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/my.cnf) 
2022-11-13 13:39:07,695 p=215097 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-13 13:39:07,713 p=215097 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/debian.cnf) 
2022-11-13 13:39:07,722 p=215097 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/my.cnf) 
2022-11-13 13:39:07,723 p=215097 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-13 13:39:08,212 p=215097 u=munish n=ansible | ok: [target1] => (item=etc/mysql/debian.cnf)
2022-11-13 13:39:08,604 p=215097 u=munish n=ansible | ok: [target1] => (item=etc/mysql/my.cnf)
2022-11-13 13:39:08,689 p=228652 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by setting 
deprecation_warnings=False in ansible.cfg.
2022-11-13 13:39:09,098 p=215097 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-13 13:39:09,104 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - restarting first node with final galera config] ****************************************************************************************
2022-11-13 13:39:09,175 p=215097 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-13 13:39:09,263 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service restarted] *******************************************************************************************************************
2022-11-13 13:39:09,304 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:09,323 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:16,240 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:39:16,247 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ********************************************************************************************************
2022-11-13 13:39:16,265 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:16,280 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:16,291 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:16,298 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ********************************************************************************************************
2022-11-13 13:39:16,347 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:16,362 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:16,615 p=215097 u=munish n=ansible | ok: [target1]
2022-11-13 13:39:16,630 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ***************************************************************************************
2022-11-13 13:39:16,704 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:16,718 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:31,866 p=215097 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-13 13:39:31,875 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - marking node as configured for galera cluster] *****************************************************************************************
2022-11-13 13:39:32,222 p=215097 u=munish n=ansible | changed: [target3]
2022-11-13 13:39:32,223 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:39:32,349 p=215097 u=munish n=ansible | changed: [target2]
2022-11-13 13:39:32,358 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | configuring root my.cnf] ***************************************************************************************************************************
2022-11-13 13:39:32,391 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:32,394 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:32,403 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:32,414 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords] ***************************************************************************************************************************
2022-11-13 13:39:32,955 p=215097 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-13 13:39:33,320 p=215097 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-13 13:39:33,649 p=215097 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-13 13:39:34,015 p=215097 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-13 13:39:34,016 p=215097 u=munish n=ansible | changed: [target1]
2022-11-13 13:39:34,025 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords (allow from anywhere)] *****************************************************************************************************
2022-11-13 13:39:34,054 p=215097 u=munish n=ansible | skipping: [target1] => (item=None) 
2022-11-13 13:39:34,057 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,066 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | create the databases] ************************************************************************************************************************************
2022-11-13 13:39:34,130 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | copy database init scripts] ******************************************************************************************************************************
2022-11-13 13:39:34,196 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | initialise databases] ************************************************************************************************************************************
2022-11-13 13:39:34,252 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | delete init scripts from the server] *********************************************************************************************************************
2022-11-13 13:39:34,314 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | configuring monitor script for galera] *****************************************************************************************************************
2022-11-13 13:39:34,335 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,351 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:34,364 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:34,373 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on first node] ************************************************************************************************************************
2022-11-13 13:39:34,409 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,411 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:34,433 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:34,455 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on first node] **************************************************************************************************************
2022-11-13 13:39:34,481 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,491 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on additional servers] ****************************************************************************************************************
2022-11-13 13:39:34,521 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,540 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:34,551 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:34,563 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on other nodes] *************************************************************************************************************
2022-11-13 13:39:34,596 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,612 p=215097 u=munish n=ansible | skipping: [target2]
2022-11-13 13:39:34,623 p=215097 u=munish n=ansible | skipping: [target3]
2022-11-13 13:39:34,633 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ********************************************************************************************************************
2022-11-13 13:39:34,653 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,664 p=215097 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ********************************************************************************************************************
2022-11-13 13:39:34,690 p=215097 u=munish n=ansible | skipping: [target1]
2022-11-13 13:39:34,730 p=215097 u=munish n=ansible | PLAY RECAP ********************************************************************************************************************************************************************************************************
2022-11-13 13:39:34,731 p=215097 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-13 13:39:34,731 p=215097 u=munish n=ansible | target1                    : ok=40   changed=17   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-13 13:39:34,731 p=215097 u=munish n=ansible | target2                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-13 13:39:34,731 p=215097 u=munish n=ansible | target3                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-14 21:57:21,566 p=32391 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 21:57:22,021 p=32391 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************
2022-11-14 21:57:22,051 p=32391 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2022-11-14 21:57:48,929 p=32391 u=munish n=ansible | ok: [localhost]
2022-11-14 21:57:48,948 p=32391 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************
2022-11-14 21:57:49,292 p=32391 u=munish n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)) on home's Python /usr/bin/python2. Please read module documentation and install in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter, for example via `pip install docker` or `pip install docker-py` (Python 2.6). The error was: No module named requests.exceptions"}
2022-11-14 21:57:49,293 p=32391 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2022-11-14 21:57:49,293 p=32391 u=munish n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2022-11-14 21:58:21,754 p=422 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 21:58:21,944 p=422 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************
2022-11-14 21:58:21,954 p=422 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2022-11-14 21:58:51,961 p=422 u=munish n=ansible | ok: [localhost]
2022-11-14 21:58:51,988 p=422 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************
2022-11-14 21:58:52,372 p=422 u=munish n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)) on home's Python /usr/bin/python2. Please read module documentation and install in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter, for example via `pip install docker` or `pip install docker-py` (Python 2.6). The error was: No module named requests.exceptions"}
2022-11-14 21:58:52,375 p=422 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2022-11-14 21:58:52,375 p=422 u=munish n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2022-11-14 21:59:16,468 p=892 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 21:59:16,668 p=892 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************
2022-11-14 21:59:16,677 p=892 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2022-11-14 21:59:44,348 p=892 u=munish n=ansible | ok: [localhost]
2022-11-14 21:59:44,389 p=892 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************
2022-11-14 21:59:44,814 p=892 u=munish n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)) on home's Python /usr/bin/python2. Please read module documentation and install in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter, for example via `pip install docker` or `pip install docker-py` (Python 2.6). The error was: No module named requests.exceptions"}
2022-11-14 21:59:44,816 p=892 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2022-11-14 21:59:44,817 p=892 u=munish n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2022-11-14 22:04:19,180 p=1906 u=munish n=ansible | Process install dependency map
2022-11-14 22:04:19,184 p=1906 u=munish n=ansible | |
2022-11-14 22:04:19,286 p=1906 u=munish n=ansible | /
2022-11-14 22:04:19,387 p=1906 u=munish n=ansible | -
2022-11-14 22:04:19,489 p=1906 u=munish n=ansible | \
2022-11-14 22:04:19,593 p=1906 u=munish n=ansible | |
2022-11-14 22:04:19,695 p=1906 u=munish n=ansible | /
2022-11-14 22:04:19,796 p=1906 u=munish n=ansible | -
2022-11-14 22:04:19,901 p=1906 u=munish n=ansible | \
2022-11-14 22:04:20,001 p=1906 u=munish n=ansible | |
2022-11-14 22:04:20,102 p=1906 u=munish n=ansible | /
2022-11-14 22:04:20,206 p=1906 u=munish n=ansible | -
2022-11-14 22:04:20,307 p=1906 u=munish n=ansible | \
2022-11-14 22:04:20,408 p=1906 u=munish n=ansible | |
2022-11-14 22:04:20,510 p=1906 u=munish n=ansible | /
2022-11-14 22:04:20,610 p=1906 u=munish n=ansible | -
2022-11-14 22:04:20,711 p=1906 u=munish n=ansible | \
2022-11-14 22:04:20,812 p=1906 u=munish n=ansible | |
2022-11-14 22:04:20,913 p=1906 u=munish n=ansible | /
2022-11-14 22:04:21,014 p=1906 u=munish n=ansible | -
2022-11-14 22:04:21,115 p=1906 u=munish n=ansible | \
2022-11-14 22:04:21,216 p=1906 u=munish n=ansible | |
2022-11-14 22:04:21,318 p=1906 u=munish n=ansible | /
2022-11-14 22:04:21,418 p=1906 u=munish n=ansible | -
2022-11-14 22:04:21,519 p=1906 u=munish n=ansible | \
2022-11-14 22:04:21,619 p=1906 u=munish n=ansible | |
2022-11-14 22:04:21,721 p=1906 u=munish n=ansible | /
2022-11-14 22:04:21,821 p=1906 u=munish n=ansible | -
2022-11-14 22:04:21,922 p=1906 u=munish n=ansible | \
2022-11-14 22:04:22,023 p=1906 u=munish n=ansible | |
2022-11-14 22:04:22,124 p=1906 u=munish n=ansible | /
2022-11-14 22:04:22,224 p=1906 u=munish n=ansible | -
2022-11-14 22:04:22,325 p=1906 u=munish n=ansible | \
2022-11-14 22:04:22,427 p=1906 u=munish n=ansible | |
2022-11-14 22:04:22,528 p=1906 u=munish n=ansible | /
2022-11-14 22:04:22,628 p=1906 u=munish n=ansible | -
2022-11-14 22:04:22,731 p=1906 u=munish n=ansible | \
2022-11-14 22:04:22,833 p=1906 u=munish n=ansible | |
2022-11-14 22:04:22,934 p=1906 u=munish n=ansible | /
2022-11-14 22:04:23,036 p=1906 u=munish n=ansible | -
2022-11-14 22:04:23,137 p=1906 u=munish n=ansible | \
2022-11-14 22:04:23,239 p=1906 u=munish n=ansible | |
2022-11-14 22:04:23,340 p=1906 u=munish n=ansible | /
2022-11-14 22:04:23,441 p=1906 u=munish n=ansible | -
2022-11-14 22:04:23,543 p=1906 u=munish n=ansible | \
2022-11-14 22:04:23,649 p=1906 u=munish n=ansible | |
2022-11-14 22:04:23,751 p=1906 u=munish n=ansible | /
2022-11-14 22:04:23,853 p=1906 u=munish n=ansible | -
2022-11-14 22:04:23,955 p=1906 u=munish n=ansible | \
2022-11-14 22:04:24,057 p=1906 u=munish n=ansible | |
2022-11-14 22:04:24,158 p=1906 u=munish n=ansible | /
2022-11-14 22:04:24,260 p=1906 u=munish n=ansible | -
2022-11-14 22:04:24,364 p=1906 u=munish n=ansible | \
2022-11-14 22:04:24,465 p=1906 u=munish n=ansible | |
2022-11-14 22:04:24,565 p=1906 u=munish n=ansible | /
2022-11-14 22:04:24,667 p=1906 u=munish n=ansible | -
2022-11-14 22:04:24,768 p=1906 u=munish n=ansible | \
2022-11-14 22:04:24,870 p=1906 u=munish n=ansible | |
2022-11-14 22:04:24,972 p=1906 u=munish n=ansible | /
2022-11-14 22:04:25,073 p=1906 u=munish n=ansible | -
2022-11-14 22:04:25,174 p=1906 u=munish n=ansible | \
2022-11-14 22:04:25,275 p=1906 u=munish n=ansible | |
2022-11-14 22:04:25,376 p=1906 u=munish n=ansible | /
2022-11-14 22:04:25,480 p=1906 u=munish n=ansible | -
2022-11-14 22:04:25,581 p=1906 u=munish n=ansible | \
2022-11-14 22:04:25,681 p=1906 u=munish n=ansible | |
2022-11-14 22:04:25,782 p=1906 u=munish n=ansible | /
2022-11-14 22:04:25,883 p=1906 u=munish n=ansible | -
2022-11-14 22:04:25,983 p=1906 u=munish n=ansible | \
2022-11-14 22:04:26,084 p=1906 u=munish n=ansible | |
2022-11-14 22:04:26,184 p=1906 u=munish n=ansible | /
2022-11-14 22:04:26,285 p=1906 u=munish n=ansible | -
2022-11-14 22:04:26,385 p=1906 u=munish n=ansible | \
2022-11-14 22:04:26,486 p=1906 u=munish n=ansible | |
2022-11-14 22:04:26,588 p=1906 u=munish n=ansible | /
2022-11-14 22:04:26,691 p=1906 u=munish n=ansible | -
2022-11-14 22:04:26,793 p=1906 u=munish n=ansible | \
2022-11-14 22:04:26,895 p=1906 u=munish n=ansible | |
2022-11-14 22:04:26,996 p=1906 u=munish n=ansible | /
2022-11-14 22:04:27,098 p=1906 u=munish n=ansible | -
2022-11-14 22:04:27,199 p=1906 u=munish n=ansible | \
2022-11-14 22:04:27,300 p=1906 u=munish n=ansible | |
2022-11-14 22:04:27,404 p=1906 u=munish n=ansible | /
2022-11-14 22:04:27,505 p=1906 u=munish n=ansible | -
2022-11-14 22:04:27,606 p=1906 u=munish n=ansible | \
2022-11-14 22:04:27,706 p=1906 u=munish n=ansible | |
2022-11-14 22:04:27,807 p=1906 u=munish n=ansible | /
2022-11-14 22:04:27,908 p=1906 u=munish n=ansible | -
2022-11-14 22:04:28,009 p=1906 u=munish n=ansible | \
2022-11-14 22:04:28,112 p=1906 u=munish n=ansible | |
2022-11-14 22:04:28,214 p=1906 u=munish n=ansible | /
2022-11-14 22:04:28,317 p=1906 u=munish n=ansible | -
2022-11-14 22:04:28,418 p=1906 u=munish n=ansible | \
2022-11-14 22:04:28,520 p=1906 u=munish n=ansible | |
2022-11-14 22:04:28,622 p=1906 u=munish n=ansible | /
2022-11-14 22:04:28,723 p=1906 u=munish n=ansible | -
2022-11-14 22:04:28,825 p=1906 u=munish n=ansible | \
2022-11-14 22:04:28,926 p=1906 u=munish n=ansible | |
2022-11-14 22:04:29,026 p=1906 u=munish n=ansible | Starting collection install process
2022-11-14 22:04:29,027 p=1906 u=munish n=ansible | |
2022-11-14 22:04:29,128 p=1906 u=munish n=ansible | Installing 'community.docker:3.2.1' to '/home/munish/.ansible/collections/ansible_collections/community/docker'
2022-11-14 22:04:29,129 p=1906 u=munish n=ansible | /
2022-11-14 22:04:29,230 p=1906 u=munish n=ansible | -
2022-11-14 22:04:29,334 p=1906 u=munish n=ansible | \
2022-11-14 22:04:29,435 p=1906 u=munish n=ansible | |
2022-11-14 22:04:29,538 p=1906 u=munish n=ansible | /
2022-11-14 22:04:29,639 p=1906 u=munish n=ansible | -
2022-11-14 22:04:29,746 p=1906 u=munish n=ansible | \
2022-11-14 22:04:29,847 p=1906 u=munish n=ansible | |
2022-11-14 22:04:29,948 p=1906 u=munish n=ansible | /
2022-11-14 22:04:30,051 p=1906 u=munish n=ansible | -
2022-11-14 22:04:30,152 p=1906 u=munish n=ansible | \
2022-11-14 22:04:30,254 p=1906 u=munish n=ansible | |
2022-11-14 22:04:30,357 p=1906 u=munish n=ansible | /
2022-11-14 22:04:30,459 p=1906 u=munish n=ansible | -
2022-11-14 22:04:30,559 p=1906 u=munish n=ansible | \
2022-11-14 22:04:30,660 p=1906 u=munish n=ansible | |
2022-11-14 22:04:30,761 p=1906 u=munish n=ansible | /
2022-11-14 22:04:30,865 p=1906 u=munish n=ansible | -
2022-11-14 22:04:30,966 p=1906 u=munish n=ansible | \
2022-11-14 22:04:31,067 p=1906 u=munish n=ansible | |
2022-11-14 22:04:31,167 p=1906 u=munish n=ansible | /
2022-11-14 22:04:31,268 p=1906 u=munish n=ansible | -
2022-11-14 22:04:31,369 p=1906 u=munish n=ansible | \
2022-11-14 22:04:31,472 p=1906 u=munish n=ansible | |
2022-11-14 22:04:31,573 p=1906 u=munish n=ansible | /
2022-11-14 22:04:31,673 p=1906 u=munish n=ansible | -
2022-11-14 22:04:31,774 p=1906 u=munish n=ansible | \
2022-11-14 22:04:31,875 p=1906 u=munish n=ansible | |
2022-11-14 22:04:31,977 p=1906 u=munish n=ansible | /
2022-11-14 22:04:32,078 p=1906 u=munish n=ansible | -
2022-11-14 22:04:32,179 p=1906 u=munish n=ansible | \
2022-11-14 22:04:32,279 p=1906 u=munish n=ansible | |
2022-11-14 22:04:32,382 p=1906 u=munish n=ansible | /
2022-11-14 22:04:32,483 p=1906 u=munish n=ansible | -
2022-11-14 22:04:32,583 p=1906 u=munish n=ansible | \
2022-11-14 22:04:53,964 p=2068 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 22:04:54,178 p=2068 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************
2022-11-14 22:04:54,200 p=2068 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2022-11-14 22:05:21,798 p=2068 u=munish n=ansible | ok: [localhost]
2022-11-14 22:05:21,821 p=2068 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************
2022-11-14 22:05:22,175 p=2068 u=munish n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (Docker SDK for Python: docker (Python >= 2.7) or docker-py (Python 2.6)) on home's Python /usr/bin/python2. Please read module documentation and install in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter, for example via `pip install docker` or `pip install docker-py` (Python 2.6). The error was: No module named requests.exceptions"}
2022-11-14 22:05:22,188 p=2068 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2022-11-14 22:05:22,189 p=2068 u=munish n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2022-11-14 22:12:34,394 p=5204 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 22:12:34,617 p=5204 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************
2022-11-14 22:12:34,647 p=5204 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2022-11-14 22:12:46,444 p=5204 u=munish n=ansible | ok: [localhost]
2022-11-14 22:12:46,471 p=5204 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************
2022-11-14 22:12:48,080 p=5204 u=munish n=ansible | changed: [localhost]
2022-11-14 22:12:48,122 p=5204 u=munish n=ansible | PLAY [Mariabd Galera Cluster] ********************************************************************************************************************************************************
2022-11-14 22:12:48,128 p=5204 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************
2022-11-14 22:12:58,229 p=5204 u=munish n=ansible | fatal: [target2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.19.0.3 port 22: Connection timed out", "unreachable": true}
2022-11-14 22:12:58,233 p=5204 u=munish n=ansible | fatal: [target1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.19.0.2 port 22: Connection timed out", "unreachable": true}
2022-11-14 22:12:58,234 p=5204 u=munish n=ansible | fatal: [target3]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.19.0.4 port 22: Connection timed out", "unreachable": true}
2022-11-14 22:12:58,236 p=5204 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************
2022-11-14 22:12:58,236 p=5204 u=munish n=ansible | localhost                  : ok=2    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 22:12:58,237 p=5204 u=munish n=ansible | target1                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 22:12:58,237 p=5204 u=munish n=ansible | target2                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 22:12:58,237 p=5204 u=munish n=ansible | target3                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 22:16:01,190 p=6174 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 22:16:11,409 p=6174 u=munish n=ansible | target3 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.19.0.4 port 22: Connection timed out",
    "unreachable": true
}
2022-11-14 22:16:11,413 p=6174 u=munish n=ansible | target1 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.19.0.2 port 22: Connection timed out",
    "unreachable": true
}
2022-11-14 22:16:11,414 p=6174 u=munish n=ansible | target2 | UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: ssh: connect to host 172.19.0.3 port 22: Connection timed out",
    "unreachable": true
}
2022-11-14 22:29:51,662 p=9655 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 22:29:51,788 p=9655 u=munish n=ansible | PLAY [build docker image] *************************************************************************************************************************************************************************
2022-11-14 22:29:51,795 p=9655 u=munish n=ansible | TASK [Gathering Facts] ****************************************************************************************************************************************************************************
2022-11-14 22:30:03,579 p=9655 u=munish n=ansible | ok: [localhost]
2022-11-14 22:30:03,661 p=9655 u=munish n=ansible | TASK [Build docker image] *************************************************************************************************************************************************************************
2022-11-14 22:30:04,785 p=9655 u=munish n=ansible | ok: [localhost]
2022-11-14 22:30:04,902 p=9655 u=munish n=ansible | PLAY [Mariabd Galera Cluster] *********************************************************************************************************************************************************************
2022-11-14 22:30:04,917 p=9655 u=munish n=ansible | TASK [Gathering Facts] ****************************************************************************************************************************************************************************
2022-11-14 22:30:06,748 p=9655 u=munish n=ansible | ok: [target2]
2022-11-14 22:30:06,751 p=9655 u=munish n=ansible | ok: [target3]
2022-11-14 22:30:06,821 p=9655 u=munish n=ansible | ok: [target1]
2022-11-14 22:30:06,864 p=9655 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] *****************************************************************************************************************************************************
2022-11-14 22:30:07,109 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] ******************************************************************************************************************************
2022-11-14 22:30:07,160 p=9655 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 22:30:07,182 p=9655 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 22:30:07,191 p=9655 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 22:30:07,204 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] ********************************************************************************************
2022-11-14 22:30:07,254 p=9655 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:30:07,276 p=9655 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:30:07,284 p=9655 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:30:07,292 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] **********************************************************************
2022-11-14 22:30:07,333 p=9655 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:30:07,357 p=9655 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:30:07,357 p=9655 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:30:07,367 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ***************************************************************
2022-11-14 22:30:07,422 p=9655 u=munish n=ansible | skipping: [target1]
2022-11-14 22:30:07,426 p=9655 u=munish n=ansible | skipping: [target2]
2022-11-14 22:30:07,444 p=9655 u=munish n=ansible | skipping: [target3]
2022-11-14 22:30:07,457 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] ******************************************************************************************************************************
2022-11-14 22:30:20,227 p=9655 u=munish n=ansible | ok: [target3]
2022-11-14 22:30:20,244 p=9655 u=munish n=ansible | ok: [target2]
2022-11-14 22:30:20,246 p=9655 u=munish n=ansible | ok: [target1]
2022-11-14 22:30:20,264 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] ******************************************************************************************************************************
2022-11-14 22:31:14,639 p=9655 u=munish n=ansible | changed: [target2]
2022-11-14 22:31:14,643 p=9655 u=munish n=ansible | changed: [target1]
2022-11-14 22:31:14,694 p=9655 u=munish n=ansible | changed: [target3]
2022-11-14 22:31:14,719 p=9655 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] *************************************************************************************************************************
2022-11-14 22:32:07,064 p=9655 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.CmJKks6BLJ/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.CmJKks6BLJ/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 22:32:07,074 p=9655 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.y2wSdoUrsi/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.y2wSdoUrsi/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 22:32:07,078 p=9655 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.XCWozaN5Gs/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.XCWozaN5Gs/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 22:32:07,082 p=9655 u=munish n=ansible | PLAY RECAP ****************************************************************************************************************************************************************************************
2022-11-14 22:32:07,082 p=9655 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 22:32:07,082 p=9655 u=munish n=ansible | target1                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 22:32:07,083 p=9655 u=munish n=ansible | target2                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 22:32:07,083 p=9655 u=munish n=ansible | target3                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 22:44:47,692 p=16875 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 22:44:47,913 p=16875 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************************************************************
2022-11-14 22:44:47,949 p=16875 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************************************************
2022-11-14 22:44:53,924 p=16875 u=munish n=ansible |  [ERROR]: User interrupted execution

2022-11-14 22:45:38,552 p=18403 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 22:45:38,656 p=18403 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************************************************************
2022-11-14 22:45:38,669 p=18403 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************************************************
2022-11-14 22:45:49,937 p=18403 u=munish n=ansible | ok: [localhost]
2022-11-14 22:45:49,969 p=18403 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************************************************************
2022-11-14 22:45:50,676 p=18403 u=munish n=ansible | ok: [localhost]
2022-11-14 22:45:50,712 p=18403 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************************************************************
2022-11-14 22:45:50,720 p=18403 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************************************************************
2022-11-14 22:45:52,001 p=18403 u=munish n=ansible | ok: [target2]
2022-11-14 22:45:52,005 p=18403 u=munish n=ansible | ok: [target1]
2022-11-14 22:45:52,044 p=18403 u=munish n=ansible | ok: [target3]
2022-11-14 22:45:52,059 p=18403 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ******************************************************************************************************************************************************************************
2022-11-14 22:45:52,338 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *******************************************************************************************************************************************************
2022-11-14 22:45:52,386 p=18403 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 22:45:52,411 p=18403 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 22:45:52,415 p=18403 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 22:45:52,427 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *********************************************************************************************************************
2022-11-14 22:45:52,497 p=18403 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:45:52,537 p=18403 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:45:52,548 p=18403 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:45:52,564 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***********************************************************************************************
2022-11-14 22:45:52,630 p=18403 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:45:52,649 p=18403 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:45:52,658 p=18403 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 22:45:52,666 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ****************************************************************************************
2022-11-14 22:45:52,704 p=18403 u=munish n=ansible | skipping: [target1]
2022-11-14 22:45:52,727 p=18403 u=munish n=ansible | skipping: [target2]
2022-11-14 22:45:52,752 p=18403 u=munish n=ansible | skipping: [target3]
2022-11-14 22:45:52,767 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *******************************************************************************************************************************************************
2022-11-14 22:46:04,503 p=18403 u=munish n=ansible | ok: [target3]
2022-11-14 22:46:04,508 p=18403 u=munish n=ansible | ok: [target1]
2022-11-14 22:46:04,517 p=18403 u=munish n=ansible | ok: [target2]
2022-11-14 22:46:04,538 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *******************************************************************************************************************************************************
2022-11-14 22:46:57,583 p=18403 u=munish n=ansible | changed: [target1]
2022-11-14 22:46:57,592 p=18403 u=munish n=ansible | changed: [target2]
2022-11-14 22:46:57,593 p=18403 u=munish n=ansible | changed: [target3]
2022-11-14 22:46:57,607 p=18403 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************************************************************
2022-11-14 22:47:49,681 p=18403 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.ZQUHxMBdGi/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.ZQUHxMBdGi/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 22:47:49,688 p=18403 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.aF7iiJZOk4/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.aF7iiJZOk4/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 22:47:49,691 p=18403 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.8nyyaqQeC8/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.8nyyaqQeC8/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 22:47:49,693 p=18403 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************************************************************
2022-11-14 22:47:49,693 p=18403 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 22:47:49,693 p=18403 u=munish n=ansible | target1                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 22:47:49,693 p=18403 u=munish n=ansible | target2                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 22:47:49,693 p=18403 u=munish n=ansible | target3                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:03:43,023 p=26118 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 23:03:43,267 p=26118 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************
2022-11-14 23:03:43,294 p=26118 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-14 23:03:54,739 p=26118 u=munish n=ansible | ok: [localhost]
2022-11-14 23:03:54,772 p=26118 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************
2022-11-14 23:03:55,613 p=26118 u=munish n=ansible | ok: [localhost]
2022-11-14 23:03:55,672 p=26118 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************
2022-11-14 23:03:55,679 p=26118 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-14 23:03:55,721 p=26118 u=munish n=ansible | fatal: [target1]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname target1: Name or service not known", "unreachable": true}
2022-11-14 23:03:55,758 p=26118 u=munish n=ansible | fatal: [target2]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname target2: Name or service not known", "unreachable": true}
2022-11-14 23:03:55,763 p=26118 u=munish n=ansible | fatal: [target3]: UNREACHABLE! => {"changed": false, "msg": "Failed to connect to the host via ssh: ssh: Could not resolve hostname target3: Name or service not known", "unreachable": true}
2022-11-14 23:03:55,764 p=26118 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************
2022-11-14 23:03:55,765 p=26118 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:03:55,765 p=26118 u=munish n=ansible | target1                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:03:55,765 p=26118 u=munish n=ansible | target2                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:03:55,765 p=26118 u=munish n=ansible | target3                    : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:04:36,574 p=27218 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 23:04:36,708 p=27218 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************
2022-11-14 23:04:36,719 p=27218 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-14 23:04:48,186 p=27218 u=munish n=ansible | ok: [localhost]
2022-11-14 23:04:48,207 p=27218 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************
2022-11-14 23:04:48,817 p=27218 u=munish n=ansible | ok: [localhost]
2022-11-14 23:04:48,850 p=27218 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************
2022-11-14 23:04:48,855 p=27218 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-14 23:04:50,128 p=27218 u=munish n=ansible | ok: [target3]
2022-11-14 23:04:50,150 p=27218 u=munish n=ansible | ok: [target1]
2022-11-14 23:04:50,171 p=27218 u=munish n=ansible | ok: [target2]
2022-11-14 23:04:50,192 p=27218 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ******************************************************************************************************************************
2022-11-14 23:04:50,499 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *******************************************************************************************************
2022-11-14 23:04:50,549 p=27218 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:04:50,573 p=27218 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:04:50,593 p=27218 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:04:50,607 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *********************************************************************
2022-11-14 23:04:50,691 p=27218 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:04:50,712 p=27218 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:04:50,743 p=27218 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:04:50,752 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***********************************************
2022-11-14 23:04:50,805 p=27218 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:04:50,837 p=27218 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:04:50,857 p=27218 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:04:50,868 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ****************************************
2022-11-14 23:04:50,925 p=27218 u=munish n=ansible | skipping: [target1]
2022-11-14 23:04:50,928 p=27218 u=munish n=ansible | skipping: [target2]
2022-11-14 23:04:50,945 p=27218 u=munish n=ansible | skipping: [target3]
2022-11-14 23:04:50,957 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *******************************************************************************************************
2022-11-14 23:05:07,337 p=27218 u=munish n=ansible | ok: [target3]
2022-11-14 23:05:07,339 p=27218 u=munish n=ansible | ok: [target2]
2022-11-14 23:05:07,583 p=27218 u=munish n=ansible | ok: [target1]
2022-11-14 23:05:07,609 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *******************************************************************************************************
2022-11-14 23:06:04,024 p=27218 u=munish n=ansible | changed: [target1]
2022-11-14 23:06:04,060 p=27218 u=munish n=ansible | changed: [target3]
2022-11-14 23:06:05,083 p=27218 u=munish n=ansible | changed: [target2]
2022-11-14 23:06:05,108 p=27218 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************
2022-11-14 23:06:56,460 p=27218 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.OLvqBXsp3u/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.OLvqBXsp3u/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:06:56,526 p=27218 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.43tTnOIHMY/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.43tTnOIHMY/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:06:56,550 p=27218 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.l2OfIOW3YK/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.l2OfIOW3YK/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:06:56,552 p=27218 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************
2022-11-14 23:06:56,554 p=27218 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:06:56,555 p=27218 u=munish n=ansible | target1                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:06:56,556 p=27218 u=munish n=ansible | target2                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:06:56,556 p=27218 u=munish n=ansible | target3                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:13:23,427 p=2887 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 23:13:23,566 p=2887 u=munish n=ansible | PLAY [build docker image] ******************************************************************************************************************************************************************
2022-11-14 23:13:23,582 p=2887 u=munish n=ansible | TASK [Gathering Facts] *********************************************************************************************************************************************************************
2022-11-14 23:13:34,951 p=2887 u=munish n=ansible | ok: [localhost]
2022-11-14 23:13:34,980 p=2887 u=munish n=ansible | TASK [Build docker image] ******************************************************************************************************************************************************************
2022-11-14 23:13:35,667 p=2887 u=munish n=ansible | ok: [localhost]
2022-11-14 23:13:35,705 p=2887 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **************************************************************************************************************************************************************
2022-11-14 23:13:35,712 p=2887 u=munish n=ansible | TASK [Gathering Facts] *********************************************************************************************************************************************************************
2022-11-14 23:13:37,354 p=2887 u=munish n=ansible | ok: [target2]
2022-11-14 23:13:37,368 p=2887 u=munish n=ansible | ok: [target1]
2022-11-14 23:13:37,445 p=2887 u=munish n=ansible | ok: [target3]
2022-11-14 23:13:37,469 p=2887 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] **********************************************************************************************************************************************
2022-11-14 23:13:37,725 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] ***********************************************************************************************************************
2022-11-14 23:13:37,768 p=2887 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:13:37,786 p=2887 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:13:37,821 p=2887 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:13:37,832 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *************************************************************************************
2022-11-14 23:13:37,914 p=2887 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:13:37,932 p=2887 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:13:37,960 p=2887 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:13:37,982 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***************************************************************
2022-11-14 23:13:38,035 p=2887 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:13:38,077 p=2887 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:13:38,084 p=2887 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:13:38,095 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ********************************************************
2022-11-14 23:13:38,172 p=2887 u=munish n=ansible | skipping: [target1]
2022-11-14 23:13:38,175 p=2887 u=munish n=ansible | skipping: [target2]
2022-11-14 23:13:38,212 p=2887 u=munish n=ansible | skipping: [target3]
2022-11-14 23:13:38,248 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] ***********************************************************************************************************************
2022-11-14 23:13:44,770 p=2887 u=munish n=ansible | ok: [target2]
2022-11-14 23:13:44,852 p=2887 u=munish n=ansible | ok: [target1]
2022-11-14 23:13:45,223 p=2887 u=munish n=ansible | ok: [target3]
2022-11-14 23:13:45,233 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] ***********************************************************************************************************************
2022-11-14 23:13:48,383 p=2887 u=munish n=ansible | ok: [target2]
2022-11-14 23:13:48,426 p=2887 u=munish n=ansible | ok: [target1]
2022-11-14 23:13:48,490 p=2887 u=munish n=ansible | ok: [target3]
2022-11-14 23:13:48,513 p=2887 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ******************************************************************************************************************
2022-11-14 23:14:40,622 p=2887 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.k0o3KYc8pg/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.k0o3KYc8pg/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:14:40,637 p=2887 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.Wo1Sp8WZDN/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.Wo1Sp8WZDN/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:14:40,654 p=2887 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.Fe7JgDMD2Z/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.Fe7JgDMD2Z/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:14:40,656 p=2887 u=munish n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************
2022-11-14 23:14:40,657 p=2887 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:14:40,657 p=2887 u=munish n=ansible | target1                    : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:14:40,657 p=2887 u=munish n=ansible | target2                    : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:14:40,658 p=2887 u=munish n=ansible | target3                    : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:20:54,703 p=7799 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 23:20:54,884 p=7799 u=munish n=ansible | PLAY [build docker image] ******************************************************************************************************************************************************************
2022-11-14 23:20:54,914 p=7799 u=munish n=ansible | TASK [Gathering Facts] *********************************************************************************************************************************************************************
2022-11-14 23:21:06,264 p=7799 u=munish n=ansible | ok: [localhost]
2022-11-14 23:21:06,302 p=7799 u=munish n=ansible | TASK [Build docker image] ******************************************************************************************************************************************************************
2022-11-14 23:21:06,977 p=7799 u=munish n=ansible | ok: [localhost]
2022-11-14 23:21:07,019 p=7799 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **************************************************************************************************************************************************************
2022-11-14 23:21:07,024 p=7799 u=munish n=ansible | TASK [Gathering Facts] *********************************************************************************************************************************************************************
2022-11-14 23:21:08,261 p=7799 u=munish n=ansible | ok: [target2]
2022-11-14 23:21:08,270 p=7799 u=munish n=ansible | ok: [target3]
2022-11-14 23:21:08,290 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:21:08,318 p=7799 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] **********************************************************************************************************************************************
2022-11-14 23:21:08,581 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] ***********************************************************************************************************************
2022-11-14 23:21:08,642 p=7799 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:21:08,672 p=7799 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:21:08,692 p=7799 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:21:08,719 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *************************************************************************************
2022-11-14 23:21:08,791 p=7799 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:21:08,817 p=7799 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:21:08,836 p=7799 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:21:08,858 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***************************************************************
2022-11-14 23:21:08,923 p=7799 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:21:08,931 p=7799 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:21:08,997 p=7799 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:21:09,031 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ********************************************************
2022-11-14 23:21:09,100 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:21:09,102 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:21:09,124 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:21:09,142 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] ***********************************************************************************************************************
2022-11-14 23:21:15,592 p=7799 u=munish n=ansible | changed: [target1]
2022-11-14 23:21:15,600 p=7799 u=munish n=ansible | changed: [target3]
2022-11-14 23:21:15,628 p=7799 u=munish n=ansible | changed: [target2]
2022-11-14 23:21:15,654 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] ***********************************************************************************************************************
2022-11-14 23:21:19,054 p=7799 u=munish n=ansible | ok: [target2]
2022-11-14 23:21:19,214 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:21:19,310 p=7799 u=munish n=ansible | ok: [target3]
2022-11-14 23:21:19,325 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ******************************************************************************************************************
2022-11-14 23:21:20,397 p=7799 u=munish n=ansible | ok: [target3]
2022-11-14 23:21:20,428 p=7799 u=munish n=ansible | ok: [target2]
2022-11-14 23:21:20,437 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:21:20,475 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ******************************************************************************************************************
2022-11-14 23:21:20,551 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:21:20,577 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:21:20,597 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:21:20,613 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] **********************************************************************************************************************
2022-11-14 23:21:21,775 p=7799 u=munish n=ansible | changed: [target1]
2022-11-14 23:21:21,812 p=7799 u=munish n=ansible | changed: [target3]
2022-11-14 23:21:21,846 p=7799 u=munish n=ansible | changed: [target2]
2022-11-14 23:21:21,856 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] ***********************************************************************************************************************
2022-11-14 23:21:27,254 p=7799 u=munish n=ansible | changed: [target3]
2022-11-14 23:21:27,297 p=7799 u=munish n=ansible | changed: [target2]
2022-11-14 23:21:27,300 p=7799 u=munish n=ansible | changed: [target1]
2022-11-14 23:21:27,310 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] **********************************************************
2022-11-14 23:21:27,371 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:21:27,398 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:21:27,405 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:21:27,415 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] *********************************************************************************************************************
2022-11-14 23:21:27,478 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:21:27,500 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:21:27,509 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:21:27,518 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] *******************************************************************************************************************
2022-11-14 23:21:28,374 p=7799 u=munish n=ansible | changed: [target2]
2022-11-14 23:21:28,440 p=7799 u=munish n=ansible | changed: [target1]
2022-11-14 23:21:28,505 p=7799 u=munish n=ansible | changed: [target3]
2022-11-14 23:21:28,544 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] ***************************************************************************************************************
2022-11-14 23:21:29,356 p=7799 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-14 23:21:29,400 p=7799 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-14 23:21:29,464 p=7799 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-14 23:21:29,903 p=7799 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-14 23:21:29,904 p=7799 u=munish n=ansible | ok: [target3]
2022-11-14 23:21:29,946 p=7799 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-14 23:21:29,958 p=7799 u=munish n=ansible | ok: [target2]
2022-11-14 23:21:30,155 p=7799 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-14 23:21:30,155 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:21:30,165 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] ********************************************************************************************************
2022-11-14 23:23:03,185 p=7799 u=munish n=ansible | changed: [target3]
2022-11-14 23:23:03,278 p=7799 u=munish n=ansible | changed: [target2]
2022-11-14 23:23:03,382 p=7799 u=munish n=ansible | changed: [target1]
2022-11-14 23:23:03,410 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] ***********************************************************************************************************************
2022-11-14 23:23:03,498 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:03,536 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:03,597 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:03,619 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] ***************************************************************************************************
2022-11-14 23:23:03,675 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:03,687 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:03,713 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:03,743 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] *****************************************************************************************************
2022-11-14 23:23:03,809 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:03,838 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:03,858 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:03,902 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] ***********************************************************************************************************************
2022-11-14 23:23:03,963 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:03,971 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:03,985 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,000 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] **************************************************************
2022-11-14 23:23:04,061 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,063 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,093 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,109 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] *********************************************************************************************************************
2022-11-14 23:23:04,174 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,180 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,228 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,243 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] ******************************************************************************************************************
2022-11-14 23:23:04,300 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,335 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,352 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,365 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ************************************************************
2022-11-14 23:23:04,428 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,432 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,456 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,473 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] *************************************************************************************************
2022-11-14 23:23:04,556 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,558 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,593 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,624 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] *********************************************************************************************************************
2022-11-14 23:23:04,706 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,758 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,779 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,804 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] ***********************************************************************************************************
2022-11-14 23:23:04,843 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:04,891 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:04,924 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:04,938 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] *******************************************************************************************************************
2022-11-14 23:23:04,982 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:05,032 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:05,033 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:05,059 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] *********************************************************************************************************
2022-11-14 23:23:05,103 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:05,148 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:05,178 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:05,200 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] ******************************************************************************************************************
2022-11-14 23:23:05,255 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:05,288 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:05,304 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:05,334 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] ********************************************************************************************************
2022-11-14 23:23:05,391 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:05,430 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:05,453 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:05,482 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] ***************************************************************************************************
2022-11-14 23:23:05,547 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:05,553 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:05,568 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:05,595 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] *******************************************************************************************************************
2022-11-14 23:23:05,612 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] ************************************************************************************************************
2022-11-14 23:23:05,697 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:05,715 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:07,850 p=7799 u=munish n=ansible | changed: [target1]
2022-11-14 23:23:07,882 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] ****************************************************************************************************************
2022-11-14 23:23:08,504 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:23:08,543 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] **************************************************************************************************************
2022-11-14 23:23:08,617 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:08,656 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via unix_socket] *********************************************************************************************
2022-11-14 23:23:08,733 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:23:08,794 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via mysql_native_password] ***********************************************************************************
2022-11-14 23:23:08,865 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:08,949 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_users | create MySQL users] *******************************************************************************************************************
2022-11-14 23:23:08,985 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:09,011 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | mark galera cluster node unconfigured] **********************************************************************************************
2022-11-14 23:23:09,067 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:09,072 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:09,084 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:09,104 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | checking if galera cluster already configured] **************************************************************************************
2022-11-14 23:23:09,688 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:23:09,799 p=7799 u=munish n=ansible | ok: [target3]
2022-11-14 23:23:09,885 p=7799 u=munish n=ansible | ok: [target2]
2022-11-14 23:23:09,910 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | create TLS certificates directory] **************************************************************************************************
2022-11-14 23:23:09,999 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:10,024 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:10,056 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:10,086 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | copy TLS CA cert, server cert & private key] ****************************************************************************************
2022-11-14 23:23:10,164 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:10,166 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:10,173 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:10,201 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP ist.recv_] ************************************************************************************************************************************
2022-11-14 23:23:10,281 p=7799 u=munish n=ansible | ok: [target1]
2022-11-14 23:23:10,308 p=7799 u=munish n=ansible | ok: [target2]
2022-11-14 23:23:10,308 p=7799 u=munish n=ansible | ok: [target3]
2022-11-14 23:23:10,337 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP TLS encryption settings] **********************************************************************************************************************
2022-11-14 23:23:10,389 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:10,452 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:10,453 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:10,466 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Add galera_use_gmcast_segment if present] ***********************************************************************************************************
2022-11-14 23:23:10,521 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:10,529 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:10,542 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:10,560 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Show all galera_extra_wsrep_provider_options] *******************************************************************************************************
2022-11-14 23:23:10,624 p=7799 u=munish n=ansible | skipping: [target1]
2022-11-14 23:23:10,645 p=7799 u=munish n=ansible | skipping: [target2]
2022-11-14 23:23:10,677 p=7799 u=munish n=ansible | skipping: [target3]
2022-11-14 23:23:10,698 p=7799 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | configuring settings for mariadb and galera] ****************************************************************************************
2022-11-14 23:23:11,573 p=7799 u=munish n=ansible | changed: [target2] => (item=etc/mysql/debian.cnf)
2022-11-14 23:23:11,590 p=7799 u=munish n=ansible | changed: [target3] => (item=etc/mysql/debian.cnf)
2022-11-14 23:23:11,605 p=7799 u=munish n=ansible | changed: [target1] => (item=etc/mysql/debian.cnf)
2022-11-14 23:23:12,458 p=7799 u=munish n=ansible | changed: [target3] => (item=etc/mysql/my.cnf)
2022-11-14 23:23:12,462 p=7799 u=munish n=ansible | changed: [target2] => (item=etc/mysql/my.cnf)
2022-11-14 23:23:12,475 p=7799 u=munish n=ansible | changed: [target1] => (item=etc/mysql/my.cnf)
2022-11-14 23:23:12,682 p=14854 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled 
by setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:23:12,681 p=14851 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled 
by setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:23:12,702 p=14850 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled 
by setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:23:12,806 p=7799 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller
2022-11-14 23:23:12,806 p=7799 u=munish n=ansible | failed: [target2] (item=etc/mysql/conf.d/galera.cnf) => {"ansible_loop_var": "item", "changed": false, "item": "etc/mysql/conf.d/galera.cnf", "msg": "AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller"}
2022-11-14 23:23:12,818 p=7799 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller
2022-11-14 23:23:12,819 p=7799 u=munish n=ansible | failed: [target3] (item=etc/mysql/conf.d/galera.cnf) => {"ansible_loop_var": "item", "changed": false, "item": "etc/mysql/conf.d/galera.cnf", "msg": "AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller"}
2022-11-14 23:23:12,822 p=7799 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ansible.errors.AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller
2022-11-14 23:23:12,822 p=7799 u=munish n=ansible | failed: [target1] (item=etc/mysql/conf.d/galera.cnf) => {"ansible_loop_var": "item", "changed": false, "item": "etc/mysql/conf.d/galera.cnf", "msg": "AnsibleFilterError: The ipwrap filter requires python's netaddr be installed on the ansible controller"}
2022-11-14 23:23:12,829 p=7799 u=munish n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************
2022-11-14 23:23:12,830 p=7799 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:23:12,830 p=7799 u=munish n=ansible | target1                    : ok=17   changed=6    unreachable=0    failed=1    skipped=29   rescued=0    ignored=0   
2022-11-14 23:23:12,831 p=7799 u=munish n=ansible | target2                    : ok=14   changed=5    unreachable=0    failed=1    skipped=27   rescued=0    ignored=0   
2022-11-14 23:23:12,831 p=7799 u=munish n=ansible | target3                    : ok=14   changed=5    unreachable=0    failed=1    skipped=27   rescued=0    ignored=0   
2022-11-14 23:25:51,654 p=15714 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 23:25:51,857 p=15714 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************************
2022-11-14 23:25:51,881 p=15714 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************************
2022-11-14 23:26:03,278 p=15714 u=munish n=ansible | ok: [localhost]
2022-11-14 23:26:03,307 p=15714 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************************
2022-11-14 23:26:04,187 p=15714 u=munish n=ansible | ok: [localhost]
2022-11-14 23:26:04,230 p=15714 u=munish n=ansible | PLAY [Mariabd Galera Cluster] ********************************************************************************************************************************************************************
2022-11-14 23:26:04,233 p=15714 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************************
2022-11-14 23:26:05,581 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:05,613 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:05,629 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:05,654 p=15714 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ****************************************************************************************************************************************************
2022-11-14 23:26:05,900 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *****************************************************************************************************************************
2022-11-14 23:26:05,989 p=15714 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:26:05,990 p=15714 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:26:05,993 p=15714 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:26:06,006 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *******************************************************************************************
2022-11-14 23:26:06,076 p=15714 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:26:06,108 p=15714 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:26:06,124 p=15714 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:26:06,134 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] *********************************************************************
2022-11-14 23:26:06,178 p=15714 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:26:06,183 p=15714 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:26:06,208 p=15714 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:26:06,218 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] **************************************************************
2022-11-14 23:26:06,261 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:06,270 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:06,283 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:06,303 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *****************************************************************************************************************************
2022-11-14 23:26:08,499 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:08,544 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:08,581 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:08,592 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *****************************************************************************************************************************
2022-11-14 23:26:12,074 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:12,111 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:12,197 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:12,226 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ************************************************************************************************************************
2022-11-14 23:26:13,184 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:13,200 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:13,216 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:13,227 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ************************************************************************************************************************
2022-11-14 23:26:13,314 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:13,355 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:13,388 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:13,398 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] ****************************************************************************************************************************
2022-11-14 23:26:14,259 p=15714 u=munish n=ansible | changed: [target3]
2022-11-14 23:26:14,263 p=15714 u=munish n=ansible | changed: [target2]
2022-11-14 23:26:14,278 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:26:14,300 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] *****************************************************************************************************************************
2022-11-14 23:26:28,153 p=15714 u=munish n=ansible | changed: [target3]
2022-11-14 23:26:28,162 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:26:28,641 p=15714 u=munish n=ansible | changed: [target2]
2022-11-14 23:26:28,660 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ****************************************************************
2022-11-14 23:26:28,730 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:28,737 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:28,760 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:28,771 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] ***************************************************************************************************************************
2022-11-14 23:26:28,838 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:28,845 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:28,856 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:28,865 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] *************************************************************************************************************************
2022-11-14 23:26:29,639 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:29,649 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:29,659 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:29,669 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] *********************************************************************************************************************
2022-11-14 23:26:30,388 p=15714 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-14 23:26:30,404 p=15714 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-14 23:26:30,419 p=15714 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-14 23:26:30,903 p=15714 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-14 23:26:30,904 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:30,923 p=15714 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-14 23:26:30,925 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:30,968 p=15714 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-14 23:26:30,969 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:30,992 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] **************************************************************************************************************
2022-11-14 23:26:34,558 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:34,608 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:34,651 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:34,673 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] *****************************************************************************************************************************
2022-11-14 23:26:34,810 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:34,814 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:34,847 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:34,865 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] *********************************************************************************************************
2022-11-14 23:26:34,944 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:35,020 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:35,082 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:35,099 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] ***********************************************************************************************************
2022-11-14 23:26:35,194 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:35,195 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:35,212 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:35,238 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] *****************************************************************************************************************************
2022-11-14 23:26:35,372 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:35,374 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:35,407 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:35,430 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ********************************************************************
2022-11-14 23:26:35,518 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:35,597 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:35,634 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:35,688 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] ***************************************************************************************************************************
2022-11-14 23:26:35,794 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:35,795 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:35,814 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:35,837 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] ************************************************************************************************************************
2022-11-14 23:26:35,921 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:35,924 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:35,963 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:35,979 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ******************************************************************
2022-11-14 23:26:36,110 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:36,179 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:36,179 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:36,200 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] *******************************************************************************************************
2022-11-14 23:26:36,302 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:36,303 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:36,348 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:36,363 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] ***************************************************************************************************************************
2022-11-14 23:26:36,425 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:36,458 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:36,495 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:36,509 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] *****************************************************************************************************************
2022-11-14 23:26:36,603 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:36,619 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:36,656 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:36,673 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] *************************************************************************************************************************
2022-11-14 23:26:36,749 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:36,829 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:36,878 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:36,922 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] ***************************************************************************************************************
2022-11-14 23:26:37,031 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:37,068 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:37,079 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:37,115 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] ************************************************************************************************************************
2022-11-14 23:26:37,244 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:37,245 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:37,307 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:37,365 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] **************************************************************************************************************
2022-11-14 23:26:37,447 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:37,549 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:37,584 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:37,599 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] *********************************************************************************************************
2022-11-14 23:26:37,709 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:37,749 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:37,755 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:37,770 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] *************************************************************************************************************************
2022-11-14 23:26:37,788 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] ******************************************************************************************************************
2022-11-14 23:26:37,923 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:37,980 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:38,756 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:38,780 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] **********************************************************************************************************************
2022-11-14 23:26:39,611 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:39,631 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] ********************************************************************************************************************
2022-11-14 23:26:39,656 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:39,696 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via unix_socket] ***************************************************************************************************
2022-11-14 23:26:39,733 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:39,755 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via mysql_native_password] *****************************************************************************************
2022-11-14 23:26:39,789 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:39,825 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_users | create MySQL users] *************************************************************************************************************************
2022-11-14 23:26:39,859 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:39,882 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | mark galera cluster node unconfigured] ****************************************************************************************************
2022-11-14 23:26:39,940 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:39,941 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:39,957 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:39,972 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | checking if galera cluster already configured] ********************************************************************************************
2022-11-14 23:26:40,413 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:40,460 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:40,469 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:40,493 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | create TLS certificates directory] ********************************************************************************************************
2022-11-14 23:26:40,550 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:40,572 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:40,582 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:40,605 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | copy TLS CA cert, server cert & private key] **********************************************************************************************
2022-11-14 23:26:40,665 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:40,668 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:40,691 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:40,707 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP ist.recv_] ******************************************************************************************************************************************
2022-11-14 23:26:40,768 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:40,784 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:40,807 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:40,816 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP TLS encryption settings] ****************************************************************************************************************************
2022-11-14 23:26:40,848 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:40,872 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:40,898 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:40,915 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Add galera_use_gmcast_segment if present] *****************************************************************************************************************
2022-11-14 23:26:40,979 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:40,981 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:40,996 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:41,035 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Show all galera_extra_wsrep_provider_options] *************************************************************************************************************
2022-11-14 23:26:41,103 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:41,136 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:41,150 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:41,168 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | configuring settings for mariadb and galera] **********************************************************************************************
2022-11-14 23:26:41,833 p=15714 u=munish n=ansible | ok: [target3] => (item=etc/mysql/debian.cnf)
2022-11-14 23:26:41,848 p=15714 u=munish n=ansible | ok: [target1] => (item=etc/mysql/debian.cnf)
2022-11-14 23:26:41,867 p=15714 u=munish n=ansible | ok: [target2] => (item=etc/mysql/debian.cnf)
2022-11-14 23:26:42,435 p=15714 u=munish n=ansible | ok: [target1] => (item=etc/mysql/my.cnf)
2022-11-14 23:26:42,441 p=15714 u=munish n=ansible | ok: [target2] => (item=etc/mysql/my.cnf)
2022-11-14 23:26:42,449 p=15714 u=munish n=ansible | ok: [target3] => (item=etc/mysql/my.cnf)
2022-11-14 23:26:42,673 p=20317 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:26:42,692 p=20318 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:26:42,702 p=20320 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:26:43,233 p=15714 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-14 23:26:43,322 p=15714 u=munish n=ansible | changed: [target2] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-14 23:26:43,351 p=15714 u=munish n=ansible | changed: [target3] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-14 23:26:43,360 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (first node)] ******************************************************************************
2022-11-14 23:26:43,418 p=15714 u=munish n=ansible | skipping: [target1] => (item=target1) 
2022-11-14 23:26:43,428 p=15714 u=munish n=ansible | skipping: [target2] => (item=target1) 
2022-11-14 23:26:43,438 p=15714 u=munish n=ansible | skipping: [target3] => (item=target1) 
2022-11-14 23:26:43,450 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (other nodes)] *****************************************************************************
2022-11-14 23:26:43,499 p=15714 u=munish n=ansible | skipping: [target1] => (item=target2) 
2022-11-14 23:26:43,500 p=15714 u=munish n=ansible | skipping: [target1] => (item=target3) 
2022-11-14 23:26:43,531 p=15714 u=munish n=ansible | skipping: [target2] => (item=target2) 
2022-11-14 23:26:43,532 p=15714 u=munish n=ansible | skipping: [target2] => (item=target3) 
2022-11-14 23:26:43,542 p=15714 u=munish n=ansible | skipping: [target3] => (item=target2) 
2022-11-14 23:26:43,543 p=15714 u=munish n=ansible | skipping: [target3] => (item=target3) 
2022-11-14 23:26:43,557 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (other nodes)] ****************************************************************
2022-11-14 23:26:43,681 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target3, target2 => (item=target2)
2022-11-14 23:26:43,688 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target3, target2 => (item=target3)
2022-11-14 23:26:43,723 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ****************************************************************************************************
2022-11-14 23:26:43,751 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:43,801 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:44,146 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:44,156 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:26:44,213 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:44,244 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:44,570 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:26:44,579 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:26:44,612 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:44,649 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:44,665 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:44,695 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:26:44,772 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:44,773 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:44,791 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:44,810 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ****************************************************************************************************
2022-11-14 23:26:44,876 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:44,877 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:45,280 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:45,292 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:26:45,326 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:45,357 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:45,769 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:26:45,790 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:26:45,841 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:45,842 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:45,860 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:45,906 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:26:45,951 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:46,041 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:46,064 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:46,084 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (first node)] *****************************************************************
2022-11-14 23:26:46,197 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-14 23:26:46,236 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ****************************************************************************************************
2022-11-14 23:26:46,300 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:46,301 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:47,741 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:26:47,755 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:26:47,841 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:47,867 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:48,190 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:48,199 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:26:48,245 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:48,271 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:48,285 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:48,309 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:26:48,364 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:48,409 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:48,421 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:48,431 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | custer bootstrap - killing lingering mysql processes to ensure mysql is stopped] **********************************************************
2022-11-14 23:26:48,957 p=15714 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.005741", "end": "2022-11-15 04:26:48.923202", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 04:26:48.917461", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-14 23:26:48,957 p=15714 u=munish n=ansible | ...ignoring
2022-11-14 23:26:49,005 p=15714 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.004422", "end": "2022-11-15 04:26:48.946247", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 04:26:48.941825", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-14 23:26:49,005 p=15714 u=munish n=ansible | ...ignoring
2022-11-14 23:26:50,007 p=15714 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:01.005863", "end": "2022-11-15 04:26:49.929734", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 04:26:48.923871", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-14 23:26:50,008 p=15714 u=munish n=ansible | ...ignoring
2022-11-14 23:26:50,025 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring temp galera config for first node] ************************************************************************
2022-11-14 23:26:50,084 p=15714 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-14 23:26:50,088 p=15714 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-14 23:26:50,222 p=21434 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:26:50,751 p=15714 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-14 23:26:50,760 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | update galera_new_cluster and use /etc/init.d/ instead of systemctl] **********************************************************************
2022-11-14 23:26:51,174 p=15714 u=munish n=ansible | changed: [target2]
2022-11-14 23:26:51,184 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:26:51,202 p=15714 u=munish n=ansible | changed: [target3]
2022-11-14 23:26:51,218 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - bootstrapping first node] *********************************************************************************************
2022-11-14 23:26:51,288 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:51,305 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:53,999 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:26:54,019 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - ensure first node is fully started before joining other nodes] ********************************************************
2022-11-14 23:26:54,138 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-14 23:26:54,200 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ****************************************************************************************************
2022-11-14 23:26:54,256 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:54,258 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:54,644 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:54,653 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:26:54,700 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:26:54,718 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:54,719 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:54,728 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:26:54,814 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:54,817 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:26:55,172 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:26:55,200 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:26:55,272 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:26:55,314 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:27:10,754 p=15714 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-14 23:27:10,816 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - joining galera cluster] ***********************************************************************************************
2022-11-14 23:27:11,021 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target2)
2022-11-14 23:27:11,029 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target3)
2022-11-14 23:27:11,134 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ****************************************************************************************************
2022-11-14 23:27:11,226 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:11,313 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:27:20,982 p=15714 u=munish n=ansible | changed: [target2]
2022-11-14 23:27:20,997 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:27:21,074 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:21,076 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:27:21,111 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:27:21,133 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:27:21,190 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:21,260 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:27:21,784 p=15714 u=munish n=ansible | ok: [target2]
2022-11-14 23:27:21,825 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:27:21,896 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:21,988 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:27:37,390 p=15714 u=munish n=ansible | ok: [target2 -> localhost]
2022-11-14 23:27:37,414 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ****************************************************************************************************
2022-11-14 23:27:37,437 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:37,454 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:27:47,178 p=15714 u=munish n=ansible | changed: [target3]
2022-11-14 23:27:47,196 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:27:47,251 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:27:47,253 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:47,271 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:27:47,292 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:27:47,374 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:47,384 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:27:48,087 p=15714 u=munish n=ansible | ok: [target3]
2022-11-14 23:27:48,111 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:27:48,154 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:27:48,201 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:03,735 p=15714 u=munish n=ansible | ok: [target3 -> localhost]
2022-11-14 23:28:03,813 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring final galera config for first node] ***********************************************************************
2022-11-14 23:28:03,916 p=15714 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/debian.cnf) 
2022-11-14 23:28:03,917 p=15714 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/my.cnf) 
2022-11-14 23:28:03,918 p=15714 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-14 23:28:03,937 p=15714 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/debian.cnf) 
2022-11-14 23:28:03,938 p=15714 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/my.cnf) 
2022-11-14 23:28:03,945 p=15714 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-14 23:28:05,028 p=15714 u=munish n=ansible | ok: [target1] => (item=etc/mysql/debian.cnf)
2022-11-14 23:28:05,905 p=15714 u=munish n=ansible | ok: [target1] => (item=etc/mysql/my.cnf)
2022-11-14 23:28:06,101 p=24320 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2022-11-14 23:28:06,838 p=15714 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-14 23:28:06,857 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - restarting first node with final galera config] ***********************************************************************
2022-11-14 23:28:07,019 p=15714 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-14 23:28:07,102 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service restarted] **************************************************************************************************
2022-11-14 23:28:07,170 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:07,171 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:14,759 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:28:14,779 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***************************************************************************************
2022-11-14 23:28:14,846 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:14,887 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:14,911 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:14,962 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***************************************************************************************
2022-11-14 23:28:15,059 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:15,060 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:15,549 p=15714 u=munish n=ansible | ok: [target1]
2022-11-14 23:28:15,607 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] **********************************************************************
2022-11-14 23:28:15,727 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:15,768 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:31,276 p=15714 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-14 23:28:31,287 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - marking node as configured for galera cluster] ************************************************************************
2022-11-14 23:28:32,105 p=15714 u=munish n=ansible | changed: [target3]
2022-11-14 23:28:32,108 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:28:32,407 p=15714 u=munish n=ansible | changed: [target2]
2022-11-14 23:28:32,423 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | configuring root my.cnf] **********************************************************************************************************
2022-11-14 23:28:32,459 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:32,459 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:32,487 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:32,563 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords] **********************************************************************************************************
2022-11-14 23:28:33,429 p=15714 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-14 23:28:33,961 p=15714 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-14 23:28:34,464 p=15714 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-14 23:28:34,889 p=15714 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-14 23:28:34,890 p=15714 u=munish n=ansible | changed: [target1]
2022-11-14 23:28:34,926 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords (allow from anywhere)] ************************************************************************************
2022-11-14 23:28:34,948 p=15714 u=munish n=ansible | skipping: [target1] => (item=None) 
2022-11-14 23:28:34,960 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:34,972 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | create the databases] *******************************************************************************************************************
2022-11-14 23:28:35,050 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | copy database init scripts] *************************************************************************************************************
2022-11-14 23:28:35,132 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | initialise databases] *******************************************************************************************************************
2022-11-14 23:28:35,199 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | delete init scripts from the server] ****************************************************************************************************
2022-11-14 23:28:35,268 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | configuring monitor script for galera] ************************************************************************************************
2022-11-14 23:28:35,309 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,311 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:35,327 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:35,337 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on first node] *******************************************************************************************************
2022-11-14 23:28:35,367 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,391 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:35,412 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:35,446 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on first node] *********************************************************************************************
2022-11-14 23:28:35,493 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,507 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on additional servers] ***********************************************************************************************
2022-11-14 23:28:35,553 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,594 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:35,631 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:35,657 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on other nodes] ********************************************************************************************
2022-11-14 23:28:35,729 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,730 p=15714 u=munish n=ansible | skipping: [target2]
2022-11-14 23:28:35,755 p=15714 u=munish n=ansible | skipping: [target3]
2022-11-14 23:28:35,767 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ***************************************************************************************************
2022-11-14 23:28:35,796 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,814 p=15714 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ***************************************************************************************************
2022-11-14 23:28:35,861 p=15714 u=munish n=ansible | skipping: [target1]
2022-11-14 23:28:35,921 p=15714 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************************
2022-11-14 23:28:35,922 p=15714 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:28:35,922 p=15714 u=munish n=ansible | target1                    : ok=40   changed=12   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-14 23:28:35,923 p=15714 u=munish n=ansible | target2                    : ok=30   changed=7    unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-14 23:28:35,924 p=15714 u=munish n=ansible | target3                    : ok=30   changed=7    unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-14 23:30:31,648 p=27571 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-14 23:30:31,830 p=27571 u=munish n=ansible | PLAY [build docker image] ************************************************************************************************************************************************************************
2022-11-14 23:30:31,856 p=27571 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************************
2022-11-14 23:30:43,633 p=27571 u=munish n=ansible | ok: [localhost]
2022-11-14 23:30:43,674 p=27571 u=munish n=ansible | TASK [Build docker image] ************************************************************************************************************************************************************************
2022-11-14 23:30:44,509 p=27571 u=munish n=ansible | ok: [localhost]
2022-11-14 23:30:44,548 p=27571 u=munish n=ansible | PLAY [Mariabd Galera Cluster] ********************************************************************************************************************************************************************
2022-11-14 23:30:44,554 p=27571 u=munish n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************************************************
2022-11-14 23:30:46,323 p=27571 u=munish n=ansible | ok: [target2]
2022-11-14 23:30:46,331 p=27571 u=munish n=ansible | ok: [target3]
2022-11-14 23:30:46,361 p=27571 u=munish n=ansible | ok: [target1]
2022-11-14 23:30:46,397 p=27571 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ****************************************************************************************************************************************************
2022-11-14 23:30:46,758 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *****************************************************************************************************************************
2022-11-14 23:30:46,834 p=27571 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:30:46,840 p=27571 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:30:46,863 p=27571 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-14 23:30:46,876 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *******************************************************************************************
2022-11-14 23:30:46,943 p=27571 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:30:46,948 p=27571 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:30:46,955 p=27571 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:30:46,965 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] *********************************************************************
2022-11-14 23:30:47,030 p=27571 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:30:47,037 p=27571 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:30:47,050 p=27571 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-14 23:30:47,068 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] **************************************************************
2022-11-14 23:30:47,123 p=27571 u=munish n=ansible | skipping: [target1]
2022-11-14 23:30:47,127 p=27571 u=munish n=ansible | skipping: [target2]
2022-11-14 23:30:47,149 p=27571 u=munish n=ansible | skipping: [target3]
2022-11-14 23:30:47,177 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *****************************************************************************************************************************
2022-11-14 23:31:04,773 p=27571 u=munish n=ansible | ok: [target1]
2022-11-14 23:31:04,829 p=27571 u=munish n=ansible | ok: [target3]
2022-11-14 23:31:04,853 p=27571 u=munish n=ansible | ok: [target2]
2022-11-14 23:31:04,878 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *****************************************************************************************************************************
2022-11-14 23:32:00,058 p=27571 u=munish n=ansible | changed: [target2]
2022-11-14 23:32:00,059 p=27571 u=munish n=ansible | changed: [target1]
2022-11-14 23:32:00,084 p=27571 u=munish n=ansible | changed: [target3]
2022-11-14 23:32:00,095 p=27571 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ************************************************************************************************************************
2022-11-14 23:32:52,204 p=27571 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.Gidi41HpVf/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.Gidi41HpVf/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:32:52,214 p=27571 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.yqgf1q0NBf/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.yqgf1q0NBf/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:32:52,220 p=27571 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.aRLAudgtpA/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.aRLAudgtpA/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-14 23:32:52,223 p=27571 u=munish n=ansible | PLAY RECAP ***************************************************************************************************************************************************************************************
2022-11-14 23:32:52,223 p=27571 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-14 23:32:52,223 p=27571 u=munish n=ansible | target1                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:32:52,224 p=27571 u=munish n=ansible | target2                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-14 23:32:52,224 p=27571 u=munish n=ansible | target3                    : ok=6    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:12:05,479 p=7006 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-15 00:12:05,729 p=7006 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************
2022-11-15 00:12:05,753 p=7006 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:12:17,362 p=7006 u=munish n=ansible | ok: [localhost]
2022-11-15 00:12:17,391 p=7006 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************
2022-11-15 00:12:18,175 p=7006 u=munish n=ansible | ok: [localhost]
2022-11-15 00:12:18,209 p=7006 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************
2022-11-15 00:12:18,218 p=7006 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:12:19,616 p=7006 u=munish n=ansible | ok: [target1]
2022-11-15 00:12:19,630 p=7006 u=munish n=ansible | ok: [target2]
2022-11-15 00:12:19,636 p=7006 u=munish n=ansible | ok: [target3]
2022-11-15 00:12:19,665 p=7006 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ******************************************************************************************************************************
2022-11-15 00:12:19,971 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *******************************************************************************************************
2022-11-15 00:12:20,057 p=7006 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:12:20,068 p=7006 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:12:20,070 p=7006 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:12:20,094 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *********************************************************************
2022-11-15 00:12:20,179 p=7006 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:12:20,183 p=7006 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:12:20,214 p=7006 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:12:20,235 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***********************************************
2022-11-15 00:12:20,271 p=7006 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:12:20,311 p=7006 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:12:20,344 p=7006 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:12:20,353 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ****************************************
2022-11-15 00:12:20,397 p=7006 u=munish n=ansible | skipping: [target1]
2022-11-15 00:12:20,413 p=7006 u=munish n=ansible | skipping: [target2]
2022-11-15 00:12:20,414 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:12:20,426 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *******************************************************************************************************
2022-11-15 00:12:27,167 p=7006 u=munish n=ansible | ok: [target1]
2022-11-15 00:12:27,235 p=7006 u=munish n=ansible | ok: [target3]
2022-11-15 00:12:27,254 p=7006 u=munish n=ansible | ok: [target2]
2022-11-15 00:12:27,276 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *******************************************************************************************************
2022-11-15 00:12:30,624 p=7006 u=munish n=ansible | ok: [target2]
2022-11-15 00:12:30,721 p=7006 u=munish n=ansible | ok: [target3]
2022-11-15 00:12:30,759 p=7006 u=munish n=ansible | ok: [target1]
2022-11-15 00:12:30,772 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | Check if resolv.conf has cloudflare dns] ***********************************************************************************
2022-11-15 00:12:31,298 p=7006 u=munish n=ansible | ok: [target2]
2022-11-15 00:12:31,336 p=7006 u=munish n=ansible | ok: [target3]
2022-11-15 00:12:31,374 p=7006 u=munish n=ansible | ok: [target1]
2022-11-15 00:12:31,387 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | Add cloudflare DNS to resolv.conf] *****************************************************************************************
2022-11-15 00:12:31,487 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:12:31,769 p=7006 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: OSError: [Errno 16] Device or resource busy: b'/etc/.ansible_tmph7nnjlx9resolv.conf' -> b'/etc/resolv.conf'
2022-11-15 00:12:31,769 p=7006 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "msg": "Unable to make /root/.ansible/tmp/ansible-tmp-1668489151.4684508-8794-121722287192075/tmpbs33jds8 into to /etc/resolv.conf, failed final rename from b'/etc/.ansible_tmph7nnjlx9resolv.conf': [Errno 16] Device or resource busy: b'/etc/.ansible_tmph7nnjlx9resolv.conf' -> b'/etc/resolv.conf'"}
2022-11-15 00:12:31,792 p=7006 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: OSError: [Errno 16] Device or resource busy: b'/etc/.ansible_tmpoa1rqubgresolv.conf' -> b'/etc/resolv.conf'
2022-11-15 00:12:31,792 p=7006 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "msg": "Unable to make /root/.ansible/tmp/ansible-tmp-1668489151.5007358-8795-263981477718553/tmpw1yf_y5b into to /etc/resolv.conf, failed final rename from b'/etc/.ansible_tmpoa1rqubgresolv.conf': [Errno 16] Device or resource busy: b'/etc/.ansible_tmpoa1rqubgresolv.conf' -> b'/etc/resolv.conf'"}
2022-11-15 00:12:31,802 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************
2022-11-15 00:12:32,516 p=7006 u=munish n=ansible | ok: [target3]
2022-11-15 00:12:32,544 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************
2022-11-15 00:12:32,583 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:12:32,608 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] ******************************************************************************************************
2022-11-15 00:12:33,366 p=7006 u=munish n=ansible | changed: [target3]
2022-11-15 00:12:33,375 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] *******************************************************************************************************
2022-11-15 00:12:37,470 p=7006 u=munish n=ansible | changed: [target3]
2022-11-15 00:12:37,488 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ******************************************
2022-11-15 00:12:37,530 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:12:37,547 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] *****************************************************************************************************
2022-11-15 00:12:37,583 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:12:37,594 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] ***************************************************************************************************
2022-11-15 00:12:38,147 p=7006 u=munish n=ansible | changed: [target3]
2022-11-15 00:12:38,155 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] ***********************************************************************************************
2022-11-15 00:12:38,854 p=7006 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 00:12:39,292 p=7006 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 00:12:39,296 p=7006 u=munish n=ansible | ok: [target3]
2022-11-15 00:12:39,312 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] ****************************************************************************************
2022-11-15 00:13:24,368 p=7006 u=munish n=ansible | changed: [target3]
2022-11-15 00:13:24,385 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] *******************************************************************************************************
2022-11-15 00:13:24,409 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,421 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] ***********************************************************************************
2022-11-15 00:13:24,449 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,461 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] *************************************************************************************
2022-11-15 00:13:24,485 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,502 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] *******************************************************************************************************
2022-11-15 00:13:24,538 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,559 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] **********************************************
2022-11-15 00:13:24,590 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,602 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] *****************************************************************************************************
2022-11-15 00:13:24,655 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,664 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] **************************************************************************************************
2022-11-15 00:13:24,680 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,691 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ********************************************
2022-11-15 00:13:24,728 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,744 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] *********************************************************************************
2022-11-15 00:13:24,778 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,791 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] *****************************************************************************************************
2022-11-15 00:13:24,828 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,850 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] *******************************************************************************************
2022-11-15 00:13:24,886 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,907 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] ***************************************************************************************************
2022-11-15 00:13:24,939 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,950 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] *****************************************************************************************
2022-11-15 00:13:24,983 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:24,996 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] **************************************************************************************************
2022-11-15 00:13:25,042 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:25,056 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] ****************************************************************************************
2022-11-15 00:13:25,073 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:25,093 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] ***********************************************************************************
2022-11-15 00:13:25,110 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:25,121 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] ***************************************************************************************************
2022-11-15 00:13:25,163 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] ********************************************************************************************
2022-11-15 00:13:25,193 p=7006 u=munish n=ansible | skipping: [target3]
2022-11-15 00:13:25,215 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] ************************************************************************************************
2022-11-15 00:13:25,622 p=7006 u=munish n=ansible | fatal: [target3 -> target1(172.27.0.2)]: FAILED! => {"changed": false, "msg": "One or more supplied key could not be found in the database."}
2022-11-15 00:13:25,622 p=7006 u=munish n=ansible | ...ignoring
2022-11-15 00:13:25,649 p=7006 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] **********************************************************************************************
2022-11-15 00:13:25,709 p=7006 u=munish n=ansible | fatal: [target3 -> target1(172.27.0.2)]: FAILED! => {"changed": false, "msg": "The plugin for mariadb_sst_username was set to unix_socket but the user does not exist."}
2022-11-15 00:13:25,711 p=7006 u=munish n=ansible | NO MORE HOSTS LEFT *********************************************************************************************************************************************************
2022-11-15 00:13:25,713 p=7006 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************
2022-11-15 00:13:25,715 p=7006 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-15 00:13:25,718 p=7006 u=munish n=ansible | target1                    : ok=7    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:13:25,720 p=7006 u=munish n=ansible | target2                    : ok=7    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:13:25,721 p=7006 u=munish n=ansible | target3                    : ok=14   changed=4    unreachable=0    failed=1    skipped=22   rescued=0    ignored=1   
2022-11-15 00:15:38,362 p=12001 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-15 00:15:38,491 p=12001 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************
2022-11-15 00:15:38,500 p=12001 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:15:50,063 p=12001 u=munish n=ansible | ok: [localhost]
2022-11-15 00:15:50,095 p=12001 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************
2022-11-15 00:15:50,685 p=12001 u=munish n=ansible | ok: [localhost]
2022-11-15 00:15:50,730 p=12001 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************
2022-11-15 00:15:50,737 p=12001 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:15:51,836 p=12001 u=munish n=ansible | ok: [target1]
2022-11-15 00:15:51,942 p=12001 u=munish n=ansible | ok: [target2]
2022-11-15 00:15:52,001 p=12001 u=munish n=ansible | ok: [target3]
2022-11-15 00:15:52,023 p=12001 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ******************************************************************************************************************************
2022-11-15 00:15:52,274 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *******************************************************************************************************
2022-11-15 00:15:52,333 p=12001 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:15:52,349 p=12001 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:15:52,375 p=12001 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:15:52,390 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *********************************************************************
2022-11-15 00:15:52,462 p=12001 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:15:52,466 p=12001 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:15:52,496 p=12001 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:15:52,504 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***********************************************
2022-11-15 00:15:52,562 p=12001 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:15:52,566 p=12001 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:15:52,581 p=12001 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:15:52,593 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ****************************************
2022-11-15 00:15:52,633 p=12001 u=munish n=ansible | skipping: [target1]
2022-11-15 00:15:52,642 p=12001 u=munish n=ansible | skipping: [target2]
2022-11-15 00:15:52,660 p=12001 u=munish n=ansible | skipping: [target3]
2022-11-15 00:15:52,670 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *******************************************************************************************************
2022-11-15 00:16:08,913 p=12001 u=munish n=ansible | ok: [target1]
2022-11-15 00:16:08,938 p=12001 u=munish n=ansible | ok: [target3]
2022-11-15 00:16:09,004 p=12001 u=munish n=ansible | ok: [target2]
2022-11-15 00:16:09,016 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *******************************************************************************************************
2022-11-15 00:17:00,781 p=12001 u=munish n=ansible | changed: [target1]
2022-11-15 00:17:00,782 p=12001 u=munish n=ansible | changed: [target2]
2022-11-15 00:17:00,808 p=12001 u=munish n=ansible | changed: [target3]
2022-11-15 00:17:00,820 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | Check if resolv.conf has cloudflare dns] ***********************************************************************************
2022-11-15 00:17:01,466 p=12001 u=munish n=ansible | ok: [target3]
2022-11-15 00:17:01,477 p=12001 u=munish n=ansible | ok: [target2]
2022-11-15 00:17:01,495 p=12001 u=munish n=ansible | ok: [target1]
2022-11-15 00:17:01,516 p=12001 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | Add cloudflare DNS to resolv.conf] *****************************************************************************************
2022-11-15 00:17:02,096 p=12001 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: OSError: [Errno 16] Device or resource busy: b'/etc/.ansible_tmp5vcno1crresolv.conf' -> b'/etc/resolv.conf'
2022-11-15 00:17:02,099 p=12001 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "msg": "Unable to make /root/.ansible/tmp/ansible-tmp-1668489421.6152658-17384-161025389048165/tmp_f_ojvh9 into to /etc/resolv.conf, failed final rename from b'/etc/.ansible_tmp5vcno1crresolv.conf': [Errno 16] Device or resource busy: b'/etc/.ansible_tmp5vcno1crresolv.conf' -> b'/etc/resolv.conf'"}
2022-11-15 00:17:02,117 p=12001 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: OSError: [Errno 16] Device or resource busy: b'/etc/.ansible_tmpeoqp9cthresolv.conf' -> b'/etc/resolv.conf'
2022-11-15 00:17:02,118 p=12001 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "msg": "Unable to make /root/.ansible/tmp/ansible-tmp-1668489421.6784086-17390-260855928397399/tmpytrgpgw7 into to /etc/resolv.conf, failed final rename from b'/etc/.ansible_tmpeoqp9cthresolv.conf': [Errno 16] Device or resource busy: b'/etc/.ansible_tmpeoqp9cthresolv.conf' -> b'/etc/resolv.conf'"}
2022-11-15 00:17:02,175 p=12001 u=munish n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: OSError: [Errno 16] Device or resource busy: b'/etc/.ansible_tmp21spcxgpresolv.conf' -> b'/etc/resolv.conf'
2022-11-15 00:17:02,175 p=12001 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "msg": "Unable to make /root/.ansible/tmp/ansible-tmp-1668489421.6405249-17386-97663494498957/tmpbc29r2j2 into to /etc/resolv.conf, failed final rename from b'/etc/.ansible_tmp21spcxgpresolv.conf': [Errno 16] Device or resource busy: b'/etc/.ansible_tmp21spcxgpresolv.conf' -> b'/etc/resolv.conf'"}
2022-11-15 00:17:02,183 p=12001 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************
2022-11-15 00:17:02,183 p=12001 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-15 00:17:02,184 p=12001 u=munish n=ansible | target1                    : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:17:02,184 p=12001 u=munish n=ansible | target2                    : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:17:02,185 p=12001 u=munish n=ansible | target3                    : ok=7    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:18:55,418 p=17717 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-15 00:18:55,572 p=17717 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************
2022-11-15 00:18:55,589 p=17717 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:19:06,893 p=17717 u=munish n=ansible | ok: [localhost]
2022-11-15 00:19:06,928 p=17717 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************
2022-11-15 00:19:07,513 p=17717 u=munish n=ansible | ok: [localhost]
2022-11-15 00:19:07,545 p=17717 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************
2022-11-15 00:19:07,552 p=17717 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:19:08,823 p=17717 u=munish n=ansible | ok: [target3]
2022-11-15 00:19:08,836 p=17717 u=munish n=ansible | ok: [target2]
2022-11-15 00:19:08,864 p=17717 u=munish n=ansible | ok: [target1]
2022-11-15 00:19:08,896 p=17717 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ******************************************************************************************************************************
2022-11-15 00:19:09,207 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *******************************************************************************************************
2022-11-15 00:19:09,266 p=17717 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:19:09,275 p=17717 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:19:09,292 p=17717 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:19:09,303 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *********************************************************************
2022-11-15 00:19:09,352 p=17717 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:19:09,387 p=17717 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:19:09,416 p=17717 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:19:09,427 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***********************************************
2022-11-15 00:19:09,485 p=17717 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:19:09,500 p=17717 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:19:09,511 p=17717 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:19:09,521 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ****************************************
2022-11-15 00:19:09,577 p=17717 u=munish n=ansible | skipping: [target1]
2022-11-15 00:19:09,586 p=17717 u=munish n=ansible | skipping: [target2]
2022-11-15 00:19:09,599 p=17717 u=munish n=ansible | skipping: [target3]
2022-11-15 00:19:09,612 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *******************************************************************************************************
2022-11-15 00:19:15,695 p=17717 u=munish n=ansible | ok: [target1]
2022-11-15 00:19:15,776 p=17717 u=munish n=ansible | ok: [target3]
2022-11-15 00:19:15,815 p=17717 u=munish n=ansible | ok: [target2]
2022-11-15 00:19:15,840 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *******************************************************************************************************
2022-11-15 00:19:19,239 p=17717 u=munish n=ansible | ok: [target3]
2022-11-15 00:19:19,359 p=17717 u=munish n=ansible | ok: [target1]
2022-11-15 00:19:19,489 p=17717 u=munish n=ansible | ok: [target2]
2022-11-15 00:19:19,507 p=17717 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************
2022-11-15 00:20:12,745 p=17717 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.RW2lf97xgD/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.RW2lf97xgD/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-15 00:20:12,766 p=17717 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.2K1a1E06oT/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.2K1a1E06oT/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-15 00:20:12,797 p=17717 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": false, "cmd": "/usr/bin/apt-key adv --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8", "forced_environment": {"LANG": "C.UTF-8", "LC_ALL": "C.UTF-8", "LC_MESSAGES": "C.UTF-8"}, "msg": "Error fetching key F1656F24C74CD1D8 from keyserver: keyserver.ubuntu.com", "rc": 2, "stderr": "Warning: apt-key output should not be parsed (stdout is not a terminal)\ngpg: keyserver receive failed: Server indicated a failure\n", "stderr_lines": ["Warning: apt-key output should not be parsed (stdout is not a terminal)", "gpg: keyserver receive failed: Server indicated a failure"], "stdout": "Executing: /tmp/apt-key-gpghome.WLLwkHnNf7/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8\n", "stdout_lines": ["Executing: /tmp/apt-key-gpghome.WLLwkHnNf7/gpg.1.sh --no-tty --keyserver keyserver.ubuntu.com --recv F1656F24C74CD1D8"]}
2022-11-15 00:20:12,799 p=17717 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************
2022-11-15 00:20:12,800 p=17717 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-15 00:20:12,801 p=17717 u=munish n=ansible | target1                    : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:20:12,801 p=17717 u=munish n=ansible | target2                    : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:20:12,802 p=17717 u=munish n=ansible | target3                    : ok=6    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2022-11-15 00:29:49,127 p=26130 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-15 00:29:49,336 p=26130 u=munish n=ansible | PLAY [build docker image] **************************************************************************************************************************************************
2022-11-15 00:29:49,347 p=26130 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:29:55,791 p=26130 u=munish n=ansible | ok: [localhost]
2022-11-15 00:29:55,808 p=26130 u=munish n=ansible | TASK [Build docker image] **************************************************************************************************************************************************
2022-11-15 00:29:56,416 p=26130 u=munish n=ansible | ok: [localhost]
2022-11-15 00:29:56,460 p=26130 u=munish n=ansible | PLAY [Mariabd Galera Cluster] **********************************************************************************************************************************************
2022-11-15 00:29:56,477 p=26130 u=munish n=ansible | TASK [Gathering Facts] *****************************************************************************************************************************************************
2022-11-15 00:29:57,778 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:29:57,817 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:29:57,822 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:29:57,838 p=26130 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ******************************************************************************************************************************
2022-11-15 00:29:58,076 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *******************************************************************************************************
2022-11-15 00:29:58,148 p=26130 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:29:58,160 p=26130 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:29:58,161 p=26130 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 00:29:58,172 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] *********************************************************************
2022-11-15 00:29:58,215 p=26130 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:29:58,238 p=26130 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:29:58,255 p=26130 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:29:58,263 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ***********************************************
2022-11-15 00:29:58,310 p=26130 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:29:58,336 p=26130 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:29:58,352 p=26130 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 00:29:58,361 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ****************************************
2022-11-15 00:29:58,415 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:29:58,439 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:29:58,447 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:29:58,476 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *******************************************************************************************************
2022-11-15 00:30:14,130 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:30:14,160 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:30:14,165 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:30:14,175 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *******************************************************************************************************
2022-11-15 00:31:07,182 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:31:07,186 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:31:07,212 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:31:07,225 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************
2022-11-15 00:31:14,279 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:31:14,300 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:31:14,315 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:31:14,325 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] **************************************************************************************************
2022-11-15 00:31:14,404 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:31:14,405 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:31:14,445 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:31:14,455 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] ******************************************************************************************************
2022-11-15 00:31:15,378 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:31:15,384 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:31:15,387 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:31:15,413 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] *******************************************************************************************************
2022-11-15 00:31:20,430 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:31:20,434 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:31:20,468 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:31:20,479 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ******************************************
2022-11-15 00:31:20,540 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:31:20,546 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:31:20,566 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:31:20,590 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] *****************************************************************************************************
2022-11-15 00:31:20,677 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:31:20,684 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:31:20,734 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:31:20,750 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] ***************************************************************************************************
2022-11-15 00:31:21,444 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:31:21,458 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:31:21,468 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:31:21,484 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] ***********************************************************************************************
2022-11-15 00:31:22,166 p=26130 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 00:31:22,189 p=26130 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-15 00:31:22,203 p=26130 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-15 00:31:22,671 p=26130 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-15 00:31:22,672 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:31:22,733 p=26130 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 00:31:22,734 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:31:22,742 p=26130 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-15 00:31:22,745 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:31:22,772 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] ****************************************************************************************
2022-11-15 00:32:48,558 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:32:48,567 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:32:48,568 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:32:48,624 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] *******************************************************************************************************
2022-11-15 00:32:48,651 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:48,669 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:48,679 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:48,715 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] ***********************************************************************************
2022-11-15 00:32:48,777 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:48,778 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:48,787 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:48,810 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] *************************************************************************************
2022-11-15 00:32:48,831 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:48,850 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:48,860 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:48,873 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] *******************************************************************************************************
2022-11-15 00:32:48,893 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:48,908 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:48,919 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:48,928 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] **********************************************
2022-11-15 00:32:48,948 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:48,968 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:48,979 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:48,989 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] *****************************************************************************************************
2022-11-15 00:32:49,009 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,026 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,038 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,048 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] **************************************************************************************************
2022-11-15 00:32:49,076 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,095 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,104 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,115 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ********************************************
2022-11-15 00:32:49,151 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,152 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,161 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,176 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] *********************************************************************************
2022-11-15 00:32:49,197 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,214 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,225 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,235 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] *****************************************************************************************************
2022-11-15 00:32:49,269 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,271 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,280 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,290 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] *******************************************************************************************
2022-11-15 00:32:49,326 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,327 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,336 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,345 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] ***************************************************************************************************
2022-11-15 00:32:49,365 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,381 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,391 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,401 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] *****************************************************************************************
2022-11-15 00:32:49,436 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,437 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,447 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,457 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] **************************************************************************************************
2022-11-15 00:32:49,509 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,510 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,523 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,535 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] ****************************************************************************************
2022-11-15 00:32:49,572 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,573 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,583 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,591 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] ***********************************************************************************
2022-11-15 00:32:49,615 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:49,631 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,641 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:49,654 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] ***************************************************************************************************
2022-11-15 00:32:49,673 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] ********************************************************************************************
2022-11-15 00:32:49,710 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:49,722 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:52,022 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:32:52,055 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] ************************************************************************************************
2022-11-15 00:32:52,546 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:32:52,590 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] **********************************************************************************************
2022-11-15 00:32:52,620 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:52,652 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via unix_socket] *****************************************************************************
2022-11-15 00:32:52,694 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:32:52,717 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via mysql_native_password] *******************************************************************
2022-11-15 00:32:52,743 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:52,797 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_users | create MySQL users] ***************************************************************************************************
2022-11-15 00:32:52,828 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:52,840 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | mark galera cluster node unconfigured] ******************************************************************************
2022-11-15 00:32:52,925 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:52,926 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:52,962 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:52,975 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | checking if galera cluster already configured] **********************************************************************
2022-11-15 00:32:53,349 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:32:53,381 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:32:53,399 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:32:53,416 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | create TLS certificates directory] **********************************************************************************
2022-11-15 00:32:53,481 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:53,489 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:53,516 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:53,527 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | copy TLS CA cert, server cert & private key] ************************************************************************
2022-11-15 00:32:53,575 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:53,576 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:53,582 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:53,593 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP ist.recv_] ********************************************************************************************************************
2022-11-15 00:32:53,673 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:32:53,681 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:32:53,696 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:32:53,730 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP TLS encryption settings] ******************************************************************************************************
2022-11-15 00:32:53,799 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:53,801 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:53,816 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:53,843 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Add galera_use_gmcast_segment if present] *******************************************************************************************
2022-11-15 00:32:53,873 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:53,906 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:53,924 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:53,938 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Show all galera_extra_wsrep_provider_options] ***************************************************************************************
2022-11-15 00:32:53,975 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:54,005 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:54,018 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:54,031 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | configuring settings for mariadb and galera] ************************************************************************
2022-11-15 00:32:54,763 p=26130 u=munish n=ansible | changed: [target2] => (item=etc/mysql/debian.cnf)
2022-11-15 00:32:54,786 p=26130 u=munish n=ansible | changed: [target1] => (item=etc/mysql/debian.cnf)
2022-11-15 00:32:54,846 p=26130 u=munish n=ansible | changed: [target3] => (item=etc/mysql/debian.cnf)
2022-11-15 00:32:55,466 p=26130 u=munish n=ansible | changed: [target2] => (item=etc/mysql/my.cnf)
2022-11-15 00:32:55,493 p=26130 u=munish n=ansible | changed: [target1] => (item=etc/mysql/my.cnf)
2022-11-15 00:32:55,543 p=26130 u=munish n=ansible | changed: [target3] => (item=etc/mysql/my.cnf)
2022-11-15 00:32:55,685 p=5338 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings 
can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 00:32:55,718 p=5336 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings 
can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 00:32:55,788 p=5342 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings 
can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 00:32:56,376 p=26130 u=munish n=ansible | changed: [target3] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 00:32:56,379 p=26130 u=munish n=ansible | changed: [target2] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 00:32:56,410 p=26130 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 00:32:56,420 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (first node)] ********************************************************
2022-11-15 00:32:56,471 p=26130 u=munish n=ansible | skipping: [target1] => (item=target1) 
2022-11-15 00:32:56,481 p=26130 u=munish n=ansible | skipping: [target2] => (item=target1) 
2022-11-15 00:32:56,485 p=26130 u=munish n=ansible | skipping: [target3] => (item=target1) 
2022-11-15 00:32:56,497 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (other nodes)] *******************************************************
2022-11-15 00:32:56,558 p=26130 u=munish n=ansible | skipping: [target1] => (item=target2) 
2022-11-15 00:32:56,560 p=26130 u=munish n=ansible | skipping: [target1] => (item=target3) 
2022-11-15 00:32:56,565 p=26130 u=munish n=ansible | skipping: [target2] => (item=target2) 
2022-11-15 00:32:56,567 p=26130 u=munish n=ansible | skipping: [target2] => (item=target3) 
2022-11-15 00:32:56,570 p=26130 u=munish n=ansible | skipping: [target3] => (item=target2) 
2022-11-15 00:32:56,571 p=26130 u=munish n=ansible | skipping: [target3] => (item=target3) 
2022-11-15 00:32:56,584 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (other nodes)] ******************************************
2022-11-15 00:32:56,693 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target2, target1, target3 => (item=target2)
2022-11-15 00:32:56,701 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target2, target1, target3 => (item=target3)
2022-11-15 00:32:56,730 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ******************************************************************************
2022-11-15 00:32:56,781 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:56,796 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:57,163 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:32:57,179 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:32:57,197 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:57,230 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:57,602 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:32:57,611 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:32:57,638 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:57,652 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:57,674 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:57,701 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:32:57,741 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:57,777 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:57,810 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:57,820 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ******************************************************************************
2022-11-15 00:32:57,875 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:57,878 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:58,281 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:32:58,300 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:32:58,324 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:58,342 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:58,715 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:32:58,727 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:32:58,792 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:58,793 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:58,807 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:58,836 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:32:58,879 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:32:58,921 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:58,937 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:32:58,960 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (first node)] *******************************************
2022-11-15 00:32:59,067 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 00:32:59,135 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ******************************************************************************
2022-11-15 00:32:59,207 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:32:59,228 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:00,620 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:33:00,631 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:33:00,687 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:00,692 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:01,138 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:33:01,151 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:33:01,190 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:01,200 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:01,203 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:01,239 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:33:01,333 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:01,334 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:01,354 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:01,369 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | custer bootstrap - killing lingering mysql processes to ensure mysql is stopped] ************************************
2022-11-15 00:33:01,873 p=26130 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.004567", "end": "2022-11-15 05:33:01.826854", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 05:33:01.822287", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 00:33:01,874 p=26130 u=munish n=ansible | ...ignoring
2022-11-15 00:33:01,877 p=26130 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.005957", "end": "2022-11-15 05:33:01.833093", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 05:33:01.827136", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 00:33:01,877 p=26130 u=munish n=ansible | ...ignoring
2022-11-15 00:33:01,878 p=26130 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.004104", "end": "2022-11-15 05:33:01.835609", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 05:33:01.831505", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 00:33:01,878 p=26130 u=munish n=ansible | ...ignoring
2022-11-15 00:33:01,942 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring temp galera config for first node] **************************************************
2022-11-15 00:33:02,010 p=26130 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 00:33:02,013 p=26130 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 00:33:02,162 p=6658 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings 
can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 00:33:02,846 p=26130 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 00:33:02,867 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | update galera_new_cluster and use /etc/init.d/ instead of systemctl] ************************************************
2022-11-15 00:33:03,249 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:33:03,342 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:33:03,357 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:33:03,369 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - bootstrapping first node] ***********************************************************************
2022-11-15 00:33:03,440 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:03,442 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:06,224 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:33:06,237 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - ensure first node is fully started before joining other nodes] **********************************
2022-11-15 00:33:06,362 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 00:33:06,447 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ******************************************************************************
2022-11-15 00:33:06,500 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:06,511 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:06,960 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:33:06,977 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:33:07,020 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:07,025 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:07,029 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:07,041 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:33:07,149 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:07,151 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:07,500 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:33:07,532 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:33:07,616 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:07,634 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:23,174 p=26130 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-15 00:33:23,195 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - joining galera cluster] *************************************************************************
2022-11-15 00:33:23,323 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target2, target1, target3 => (item=target2)
2022-11-15 00:33:23,328 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target2, target1, target3 => (item=target3)
2022-11-15 00:33:23,384 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ******************************************************************************
2022-11-15 00:33:23,426 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:23,465 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:30,820 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:33:30,857 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:33:30,917 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:30,918 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:30,928 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:30,944 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:33:30,985 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:31,023 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:31,532 p=26130 u=munish n=ansible | ok: [target2]
2022-11-15 00:33:31,569 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:33:31,629 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:31,662 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:47,111 p=26130 u=munish n=ansible | ok: [target2 -> localhost]
2022-11-15 00:33:47,143 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ******************************************************************************
2022-11-15 00:33:47,211 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:47,217 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:56,678 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:33:56,701 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:33:56,740 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:56,775 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:56,793 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:33:56,814 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:33:56,846 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:56,944 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:33:57,548 p=26130 u=munish n=ansible | ok: [target3]
2022-11-15 00:33:57,573 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:33:57,608 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:33:57,635 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:13,139 p=26130 u=munish n=ansible | ok: [target3 -> localhost]
2022-11-15 00:34:13,155 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring final galera config for first node] *************************************************
2022-11-15 00:34:13,247 p=26130 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/debian.cnf) 
2022-11-15 00:34:13,254 p=26130 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/my.cnf) 
2022-11-15 00:34:13,256 p=26130 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 00:34:13,293 p=26130 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/debian.cnf) 
2022-11-15 00:34:13,313 p=26130 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/my.cnf) 
2022-11-15 00:34:13,315 p=26130 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 00:34:14,531 p=26130 u=munish n=ansible | ok: [target1] => (item=etc/mysql/debian.cnf)
2022-11-15 00:34:15,208 p=26130 u=munish n=ansible | ok: [target1] => (item=etc/mysql/my.cnf)
2022-11-15 00:34:15,392 p=9603 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings 
can be disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 00:34:16,003 p=26130 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 00:34:16,022 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - restarting first node with final galera config] *************************************************
2022-11-15 00:34:16,143 p=26130 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 00:34:16,238 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service restarted] ****************************************************************************
2022-11-15 00:34:16,359 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:16,364 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:24,451 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:34:24,464 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] *****************************************************************
2022-11-15 00:34:24,546 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:24,549 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:24,560 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:24,621 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] *****************************************************************
2022-11-15 00:34:24,696 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:24,724 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:25,100 p=26130 u=munish n=ansible | ok: [target1]
2022-11-15 00:34:25,125 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ************************************************
2022-11-15 00:34:25,206 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:25,235 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:40,630 p=26130 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-15 00:34:40,647 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - marking node as configured for galera cluster] **************************************************
2022-11-15 00:34:41,150 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:34:41,217 p=26130 u=munish n=ansible | changed: [target3]
2022-11-15 00:34:41,491 p=26130 u=munish n=ansible | changed: [target2]
2022-11-15 00:34:41,503 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | configuring root my.cnf] ************************************************************************************
2022-11-15 00:34:41,528 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:41,557 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:41,574 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:41,589 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords] ************************************************************************************
2022-11-15 00:34:42,697 p=26130 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 00:34:43,205 p=26130 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 00:34:43,641 p=26130 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 00:34:44,082 p=26130 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 00:34:44,083 p=26130 u=munish n=ansible | changed: [target1]
2022-11-15 00:34:44,104 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords (allow from anywhere)] **************************************************************
2022-11-15 00:34:44,130 p=26130 u=munish n=ansible | skipping: [target1] => (item=None) 
2022-11-15 00:34:44,134 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:44,150 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | create the databases] *********************************************************************************************
2022-11-15 00:34:44,245 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | copy database init scripts] ***************************************************************************************
2022-11-15 00:34:44,334 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | initialise databases] *********************************************************************************************
2022-11-15 00:34:44,423 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | delete init scripts from the server] ******************************************************************************
2022-11-15 00:34:44,517 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | configuring monitor script for galera] **************************************************************************
2022-11-15 00:34:44,557 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:44,581 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:44,593 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:44,608 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on first node] *********************************************************************************
2022-11-15 00:34:44,643 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:44,677 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:44,689 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:44,732 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on first node] ***********************************************************************
2022-11-15 00:34:44,763 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:44,781 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on additional servers] *************************************************************************
2022-11-15 00:34:44,819 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:44,845 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:44,855 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:44,867 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on other nodes] **********************************************************************
2022-11-15 00:34:44,892 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:44,911 p=26130 u=munish n=ansible | skipping: [target2]
2022-11-15 00:34:44,924 p=26130 u=munish n=ansible | skipping: [target3]
2022-11-15 00:34:44,935 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] *****************************************************************************
2022-11-15 00:34:44,987 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:45,045 p=26130 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] *****************************************************************************
2022-11-15 00:34:45,075 p=26130 u=munish n=ansible | skipping: [target1]
2022-11-15 00:34:45,228 p=26130 u=munish n=ansible | PLAY RECAP *****************************************************************************************************************************************************************
2022-11-15 00:34:45,229 p=26130 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-15 00:34:45,229 p=26130 u=munish n=ansible | target1                    : ok=40   changed=17   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 00:34:45,229 p=26130 u=munish n=ansible | target2                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 00:34:45,229 p=26130 u=munish n=ansible | target3                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 01:29:42,066 p=23412 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-15 01:29:42,312 p=23412 u=munish n=ansible | PLAY [build docker image] *********************************************************************************************************************************************************
2022-11-15 01:29:42,336 p=23412 u=munish n=ansible | TASK [Gathering Facts] ************************************************************************************************************************************************************
2022-11-15 01:29:49,095 p=23412 u=munish n=ansible | ok: [localhost]
2022-11-15 01:29:49,121 p=23412 u=munish n=ansible | TASK [Build docker image] *********************************************************************************************************************************************************
2022-11-15 01:29:49,842 p=23412 u=munish n=ansible | ok: [localhost]
2022-11-15 01:29:49,877 p=23412 u=munish n=ansible | PLAY [Mariabd Galera Cluster] *****************************************************************************************************************************************************
2022-11-15 01:29:49,880 p=23412 u=munish n=ansible | TASK [Gathering Facts] ************************************************************************************************************************************************************
2022-11-15 01:29:51,195 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:29:51,199 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:29:52,133 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:29:52,161 p=23412 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] *************************************************************************************************************************************
2022-11-15 01:29:52,392 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] **************************************************************************************************************
2022-11-15 01:29:52,468 p=23412 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 01:29:52,475 p=23412 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 01:29:52,487 p=23412 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 01:29:52,504 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] ****************************************************************************
2022-11-15 01:29:52,574 p=23412 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 01:29:52,618 p=23412 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 01:29:52,620 p=23412 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 01:29:52,635 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] ******************************************************
2022-11-15 01:29:52,702 p=23412 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 01:29:52,717 p=23412 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 01:29:52,729 p=23412 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 01:29:52,747 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] ***********************************************
2022-11-15 01:29:52,808 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:29:52,809 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:29:52,809 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:29:52,821 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] **************************************************************************************************************
2022-11-15 01:30:10,742 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:30:10,751 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:30:10,810 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:30:10,819 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] **************************************************************************************************************
2022-11-15 01:31:00,620 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:31:01,457 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:31:01,492 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:31:01,504 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] *********************************************************************************************************
2022-11-15 01:31:04,768 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:31:04,856 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:31:04,857 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:31:04,873 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] *********************************************************************************************************
2022-11-15 01:31:04,937 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:31:04,950 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:31:05,009 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:31:05,077 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] *************************************************************************************************************
2022-11-15 01:31:06,250 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:31:06,264 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:31:06,280 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:31:06,297 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] **************************************************************************************************************
2022-11-15 01:31:11,299 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:31:11,304 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:31:11,558 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:31:11,574 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] *************************************************
2022-11-15 01:31:11,626 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:31:11,632 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:31:11,671 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:31:11,684 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] ************************************************************************************************************
2022-11-15 01:31:11,735 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:31:11,754 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:31:11,758 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:31:11,769 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] **********************************************************************************************************
2022-11-15 01:31:12,446 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:31:12,467 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:31:12,485 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:31:12,498 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] ******************************************************************************************************
2022-11-15 01:31:13,200 p=23412 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 01:31:13,265 p=23412 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-15 01:31:13,276 p=23412 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-15 01:31:13,705 p=23412 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 01:31:13,706 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:31:13,761 p=23412 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-15 01:31:13,762 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:31:13,815 p=23412 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-15 01:31:13,817 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:31:13,828 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] ***********************************************************************************************
2022-11-15 01:32:55,806 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:32:57,038 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:32:57,069 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:32:57,083 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] **************************************************************************************************************
2022-11-15 01:32:57,128 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,128 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,151 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,165 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] ******************************************************************************************
2022-11-15 01:32:57,210 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,213 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,228 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,242 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] ********************************************************************************************
2022-11-15 01:32:57,309 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,313 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,339 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,353 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] **************************************************************************************************************
2022-11-15 01:32:57,396 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,412 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,415 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,427 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] *****************************************************
2022-11-15 01:32:57,488 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,490 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,498 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,518 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] ************************************************************************************************************
2022-11-15 01:32:57,560 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,593 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,610 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,622 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] *********************************************************************************************************
2022-11-15 01:32:57,663 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,696 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,712 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,725 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] ***************************************************
2022-11-15 01:32:57,776 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,789 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,798 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,813 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] ****************************************************************************************
2022-11-15 01:32:57,874 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:57,876 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:57,900 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:57,915 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] ************************************************************************************************************
2022-11-15 01:32:57,992 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,003 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,026 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,037 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] **************************************************************************************************
2022-11-15 01:32:58,089 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,093 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,111 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,128 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] **********************************************************************************************************
2022-11-15 01:32:58,198 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,199 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,223 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,247 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] ************************************************************************************************
2022-11-15 01:32:58,314 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,315 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,324 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,335 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] *********************************************************************************************************
2022-11-15 01:32:58,392 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,394 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,412 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,429 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] ***********************************************************************************************
2022-11-15 01:32:58,475 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,488 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,504 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,522 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] ******************************************************************************************
2022-11-15 01:32:58,572 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:32:58,584 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:32:58,594 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,611 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] **********************************************************************************************************
2022-11-15 01:32:58,641 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] ***************************************************************************************************
2022-11-15 01:32:58,705 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:32:58,705 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:00,782 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:33:00,810 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] *******************************************************************************************************
2022-11-15 01:33:01,306 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:01,334 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] *****************************************************************************************************
2022-11-15 01:33:01,351 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:01,406 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via unix_socket] ************************************************************************************
2022-11-15 01:33:01,452 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:01,486 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via mysql_native_password] **************************************************************************
2022-11-15 01:33:01,524 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:01,573 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_users | create MySQL users] **********************************************************************************************************
2022-11-15 01:33:01,604 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:01,614 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | mark galera cluster node unconfigured] *************************************************************************************
2022-11-15 01:33:01,673 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:01,675 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:01,684 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:01,697 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | checking if galera cluster already configured] *****************************************************************************
2022-11-15 01:33:02,108 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:33:02,113 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:02,132 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:33:02,141 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | create TLS certificates directory] *****************************************************************************************
2022-11-15 01:33:02,199 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:02,200 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:02,222 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:02,233 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | copy TLS CA cert, server cert & private key] *******************************************************************************
2022-11-15 01:33:02,274 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:02,301 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:02,311 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:02,324 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP ist.recv_] ***************************************************************************************************************************
2022-11-15 01:33:02,386 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:02,388 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:33:02,407 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:33:02,427 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP TLS encryption settings] *************************************************************************************************************
2022-11-15 01:33:02,456 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:02,488 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:02,493 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:02,504 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Add galera_use_gmcast_segment if present] **************************************************************************************************
2022-11-15 01:33:02,561 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:02,567 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:02,582 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:02,604 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Show all galera_extra_wsrep_provider_options] **********************************************************************************************
2022-11-15 01:33:02,663 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:02,667 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:02,687 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:02,706 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | configuring settings for mariadb and galera] *******************************************************************************
2022-11-15 01:33:03,414 p=23412 u=munish n=ansible | changed: [target2] => (item=etc/mysql/debian.cnf)
2022-11-15 01:33:03,436 p=23412 u=munish n=ansible | changed: [target1] => (item=etc/mysql/debian.cnf)
2022-11-15 01:33:03,459 p=23412 u=munish n=ansible | changed: [target3] => (item=etc/mysql/debian.cnf)
2022-11-15 01:33:04,054 p=23412 u=munish n=ansible | changed: [target2] => (item=etc/mysql/my.cnf)
2022-11-15 01:33:04,093 p=23412 u=munish n=ansible | changed: [target3] => (item=etc/mysql/my.cnf)
2022-11-15 01:33:04,142 p=23412 u=munish n=ansible | changed: [target1] => (item=etc/mysql/my.cnf)
2022-11-15 01:33:04,310 p=2436 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 01:33:04,339 p=2439 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 01:33:04,387 p=2435 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 01:33:04,967 p=23412 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 01:33:04,977 p=23412 u=munish n=ansible | changed: [target2] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 01:33:04,994 p=23412 u=munish n=ansible | changed: [target3] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 01:33:05,006 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (first node)] ***************************************************************
2022-11-15 01:33:05,034 p=23412 u=munish n=ansible | skipping: [target1] => (item=target1) 
2022-11-15 01:33:05,059 p=23412 u=munish n=ansible | skipping: [target2] => (item=target1) 
2022-11-15 01:33:05,075 p=23412 u=munish n=ansible | skipping: [target3] => (item=target1) 
2022-11-15 01:33:05,086 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (other nodes)] **************************************************************
2022-11-15 01:33:05,134 p=23412 u=munish n=ansible | skipping: [target1] => (item=target2) 
2022-11-15 01:33:05,139 p=23412 u=munish n=ansible | skipping: [target1] => (item=target3) 
2022-11-15 01:33:05,153 p=23412 u=munish n=ansible | skipping: [target2] => (item=target2) 
2022-11-15 01:33:05,157 p=23412 u=munish n=ansible | skipping: [target2] => (item=target3) 
2022-11-15 01:33:05,175 p=23412 u=munish n=ansible | skipping: [target3] => (item=target2) 
2022-11-15 01:33:05,176 p=23412 u=munish n=ansible | skipping: [target3] => (item=target3) 
2022-11-15 01:33:05,191 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (other nodes)] *************************************************
2022-11-15 01:33:05,349 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target2)
2022-11-15 01:33:05,354 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target3)
2022-11-15 01:33:05,386 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] *************************************************************************************
2022-11-15 01:33:05,428 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:05,436 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:05,811 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:33:05,838 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:33:05,861 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:05,900 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:06,285 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:33:06,303 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:33:06,345 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:06,367 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:06,367 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:06,396 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:33:06,435 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:06,466 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:06,489 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:06,500 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] *************************************************************************************
2022-11-15 01:33:06,546 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:06,547 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:06,947 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:33:06,957 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:33:06,999 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:07,006 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:07,353 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:33:07,362 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:33:07,387 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:07,411 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:07,438 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:07,461 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:33:07,500 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:07,533 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:07,556 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:07,576 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (first node)] **************************************************
2022-11-15 01:33:07,694 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 01:33:07,734 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] *************************************************************************************
2022-11-15 01:33:07,783 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:07,795 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:09,224 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:33:09,241 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:33:09,305 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:09,322 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:09,631 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:09,651 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:33:09,693 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:09,705 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:09,722 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:09,758 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:33:09,797 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:09,847 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:09,863 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:09,882 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | custer bootstrap - killing lingering mysql processes to ensure mysql is stopped] *******************************************
2022-11-15 01:33:10,405 p=23412 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.003705", "end": "2022-11-15 06:33:10.373560", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 06:33:10.369855", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 01:33:10,405 p=23412 u=munish n=ansible | ...ignoring
2022-11-15 01:33:10,407 p=23412 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.004435", "end": "2022-11-15 06:33:10.373679", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 06:33:10.369244", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 01:33:10,407 p=23412 u=munish n=ansible | ...ignoring
2022-11-15 01:33:11,454 p=23412 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:01.013136", "end": "2022-11-15 06:33:11.385946", "msg": "non-zero return code", "rc": 1, "start": "2022-11-15 06:33:10.372810", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 01:33:11,455 p=23412 u=munish n=ansible | ...ignoring
2022-11-15 01:33:11,477 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring temp galera config for first node] *********************************************************
2022-11-15 01:33:11,529 p=23412 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 01:33:11,543 p=23412 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 01:33:11,728 p=3687 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 01:33:12,305 p=23412 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 01:33:12,320 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | update galera_new_cluster and use /etc/init.d/ instead of systemctl] *******************************************************
2022-11-15 01:33:12,698 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:33:12,709 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:33:12,724 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:33:12,733 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - bootstrapping first node] ******************************************************************************
2022-11-15 01:33:12,781 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:12,795 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:15,583 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:33:15,599 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - ensure first node is fully started before joining other nodes] *****************************************
2022-11-15 01:33:15,703 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 01:33:15,767 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] *************************************************************************************
2022-11-15 01:33:15,819 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:15,844 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:16,219 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:16,249 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:33:16,294 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:16,295 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:16,310 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:16,323 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:33:16,383 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:16,387 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:16,794 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:33:16,822 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:33:16,897 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:16,913 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:32,528 p=23412 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-15 01:33:32,547 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - joining galera cluster] ********************************************************************************
2022-11-15 01:33:32,663 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target3, target2 => (item=target2)
2022-11-15 01:33:32,668 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target3, target2 => (item=target3)
2022-11-15 01:33:32,745 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] *************************************************************************************
2022-11-15 01:33:32,805 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:32,823 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:40,401 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:33:40,425 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:33:40,477 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:40,478 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:33:40,508 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:40,526 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:33:40,570 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:40,588 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:40,984 p=23412 u=munish n=ansible | ok: [target2]
2022-11-15 01:33:41,013 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:33:41,061 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:41,146 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:33:56,465 p=23412 u=munish n=ansible | ok: [target2 -> localhost]
2022-11-15 01:33:56,487 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] *************************************************************************************
2022-11-15 01:33:56,538 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:33:56,543 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:04,131 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:34:04,152 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:34:04,180 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:04,229 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:04,229 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:04,245 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:34:04,306 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:04,315 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:04,889 p=23412 u=munish n=ansible | ok: [target3]
2022-11-15 01:34:04,928 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:34:04,971 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:05,013 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:20,511 p=23412 u=munish n=ansible | ok: [target3 -> localhost]
2022-11-15 01:34:20,537 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring final galera config for first node] ********************************************************
2022-11-15 01:34:20,593 p=23412 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/debian.cnf) 
2022-11-15 01:34:20,594 p=23412 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/my.cnf) 
2022-11-15 01:34:20,594 p=23412 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 01:34:20,612 p=23412 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/debian.cnf) 
2022-11-15 01:34:20,618 p=23412 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/my.cnf) 
2022-11-15 01:34:20,619 p=23412 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 01:34:22,033 p=23412 u=munish n=ansible | ok: [target1] => (item=etc/mysql/debian.cnf)
2022-11-15 01:34:22,641 p=23412 u=munish n=ansible | ok: [target1] => (item=etc/mysql/my.cnf)
2022-11-15 01:34:22,815 p=6721 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 01:34:23,780 p=23412 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 01:34:23,794 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - restarting first node with final galera config] ********************************************************
2022-11-15 01:34:23,998 p=23412 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 01:34:24,112 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service restarted] ***********************************************************************************
2022-11-15 01:34:24,190 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:24,196 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:32,408 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:34:32,432 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ************************************************************************
2022-11-15 01:34:32,480 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:32,483 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:32,492 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:32,514 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ************************************************************************
2022-11-15 01:34:32,593 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:32,624 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:32,988 p=23412 u=munish n=ansible | ok: [target1]
2022-11-15 01:34:33,009 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] *******************************************************
2022-11-15 01:34:33,119 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:33,159 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:48,483 p=23412 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-15 01:34:48,511 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - marking node as configured for galera cluster] *********************************************************
2022-11-15 01:34:48,902 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:34:48,924 p=23412 u=munish n=ansible | changed: [target3]
2022-11-15 01:34:49,073 p=23412 u=munish n=ansible | changed: [target2]
2022-11-15 01:34:49,082 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | configuring root my.cnf] *******************************************************************************************
2022-11-15 01:34:49,123 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:49,126 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:49,139 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:49,149 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords] *******************************************************************************************
2022-11-15 01:34:49,776 p=23412 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 01:34:50,195 p=23412 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 01:34:50,586 p=23412 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 01:34:50,961 p=23412 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 01:34:50,962 p=23412 u=munish n=ansible | changed: [target1]
2022-11-15 01:34:50,977 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords (allow from anywhere)] *********************************************************************
2022-11-15 01:34:51,016 p=23412 u=munish n=ansible | skipping: [target1] => (item=None) 
2022-11-15 01:34:51,019 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,031 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | create the databases] ****************************************************************************************************
2022-11-15 01:34:51,089 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | copy database init scripts] **********************************************************************************************
2022-11-15 01:34:51,166 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | initialise databases] ****************************************************************************************************
2022-11-15 01:34:51,253 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | delete init scripts from the server] *************************************************************************************
2022-11-15 01:34:51,324 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | configuring monitor script for galera] *********************************************************************************
2022-11-15 01:34:51,371 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,372 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:51,396 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:51,408 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on first node] ****************************************************************************************
2022-11-15 01:34:51,446 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,447 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:51,466 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:51,482 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on first node] ******************************************************************************
2022-11-15 01:34:51,503 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,512 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on additional servers] ********************************************************************************
2022-11-15 01:34:51,548 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,574 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:51,589 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:51,599 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on other nodes] *****************************************************************************
2022-11-15 01:34:51,640 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,653 p=23412 u=munish n=ansible | skipping: [target2]
2022-11-15 01:34:51,655 p=23412 u=munish n=ansible | skipping: [target3]
2022-11-15 01:34:51,667 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ************************************************************************************
2022-11-15 01:34:51,692 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,702 p=23412 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ************************************************************************************
2022-11-15 01:34:51,720 p=23412 u=munish n=ansible | skipping: [target1]
2022-11-15 01:34:51,759 p=23412 u=munish n=ansible | PLAY RECAP ************************************************************************************************************************************************************************
2022-11-15 01:34:51,759 p=23412 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-15 01:34:51,759 p=23412 u=munish n=ansible | target1                    : ok=40   changed=17   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 01:34:51,760 p=23412 u=munish n=ansible | target2                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 01:34:51,760 p=23412 u=munish n=ansible | target3                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 20:18:27,524 p=4454 u=munish n=ansible | [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details

2022-11-15 20:18:27,734 p=4454 u=munish n=ansible | PLAY [build docker image] ********************************************************************************************************************************************************
2022-11-15 20:18:27,748 p=4454 u=munish n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************
2022-11-15 20:18:29,086 p=4454 u=munish n=ansible | ok: [localhost]
2022-11-15 20:18:29,115 p=4454 u=munish n=ansible | TASK [Build docker image] ********************************************************************************************************************************************************
2022-11-15 20:18:29,738 p=4454 u=munish n=ansible | ok: [localhost]
2022-11-15 20:18:29,774 p=4454 u=munish n=ansible | PLAY [Mariabd Galera Cluster] ****************************************************************************************************************************************************
2022-11-15 20:18:29,780 p=4454 u=munish n=ansible | TASK [Gathering Facts] ***********************************************************************************************************************************************************
2022-11-15 20:18:30,988 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:18:31,010 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:18:31,046 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:18:31,060 p=4454 u=munish n=ansible | TASK [Include ansible-mariadb-galera-cluster] ************************************************************************************************************************************
2022-11-15 20:18:31,259 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : gather os specific variables] *************************************************************************************************************
2022-11-15 20:18:31,354 p=4454 u=munish n=ansible | ok: [target1] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 20:18:31,358 p=4454 u=munish n=ansible | ok: [target2] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 20:18:31,366 p=4454 u=munish n=ansible | ok: [target3] => (item=/home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/vars/ubuntu-20.yml)
2022-11-15 20:18:31,386 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure NIC specified in 'galera_cluster_bind_interface' exists] ***************************************************************************
2022-11-15 20:18:31,444 p=4454 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 20:18:31,463 p=4454 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 20:18:31,464 p=4454 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 20:18:31,475 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is unix_socket, the mariadb_sst_password should not be set] *****************************************************
2022-11-15 20:18:31,512 p=4454 u=munish n=ansible | ok: [target1] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 20:18:31,536 p=4454 u=munish n=ansible | ok: [target2] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 20:18:31,538 p=4454 u=munish n=ansible | ok: [target3] => {
    "changed": false,
    "msg": "All assertions passed"
}
2022-11-15 20:18:31,554 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : When mariadb_sst_username is mysql_native_password, mariadb_sst_password should also be set] **********************************************
2022-11-15 20:18:31,590 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:18:31,618 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:18:31,636 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:18:31,648 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | update package list] *************************************************************************************************************
2022-11-15 20:18:45,721 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:18:45,821 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:18:48,403 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:18:48,418 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing pre-reqs] *************************************************************************************************************
2022-11-15 20:19:39,881 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:19:39,887 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:19:39,902 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:19:39,911 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ********************************************************************************************************
2022-11-15 20:19:42,292 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:19:42,298 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:19:42,332 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:19:42,341 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding MariaDB Repo Keys] ********************************************************************************************************
2022-11-15 20:19:42,429 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:19:42,439 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:19:42,468 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:19:42,492 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | pinning MariaDB Repo] ************************************************************************************************************
2022-11-15 20:19:43,387 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:19:43,437 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:19:43,440 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:19:43,454 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | adding mariadb repo] *************************************************************************************************************
2022-11-15 20:19:47,287 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:19:47,290 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:19:47,306 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:19:47,320 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | precreate /etc/mysql/conf.d in case we need to add mariadb_config_overrides file] ************************************************
2022-11-15 20:19:47,371 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:19:47,381 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:19:47,393 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:19:47,405 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | add an overrides file] ***********************************************************************************************************
2022-11-15 20:19:47,475 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:19:47,478 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:19:47,516 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:19:47,540 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | configuring root my.cnf] *********************************************************************************************************
2022-11-15 20:19:48,236 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:19:48,240 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:19:48,244 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:19:48,261 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | mysql root password setting] *****************************************************************************************************
2022-11-15 20:19:48,937 p=4454 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-15 20:19:48,947 p=4454 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-15 20:19:48,952 p=4454 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 20:19:49,473 p=4454 u=munish n=ansible | ok: [target3] => (item=None)
2022-11-15 20:19:49,475 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:19:49,476 p=4454 u=munish n=ansible | ok: [target2] => (item=None)
2022-11-15 20:19:49,479 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:19:49,494 p=4454 u=munish n=ansible | ok: [target1] => (item=None)
2022-11-15 20:19:49,495 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:19:49,509 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : debian | installing mariadb-galera packages] **********************************************************************************************
2022-11-15 20:20:52,476 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:20:54,376 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:20:54,477 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:20:54,525 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | adding mariadb repo] *************************************************************************************************************
2022-11-15 20:20:54,596 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:54,633 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:54,773 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:54,796 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | disable appstream mysql/mariadb modules] *****************************************************************************************
2022-11-15 20:20:54,858 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:54,926 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:54,930 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:55,030 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | clean dnf metadata (centos8 & fedora)] *******************************************************************************************
2022-11-15 20:20:55,113 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:55,115 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:55,141 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:55,279 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing pre-reqs] *************************************************************************************************************
2022-11-15 20:20:55,403 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:55,408 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:55,428 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:55,446 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | precreate /etc/my.cnf.d in case we need to add mariadb_config_overrides file] ****************************************************
2022-11-15 20:20:55,506 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:55,540 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:55,549 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:55,564 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | add an overrides file] ***********************************************************************************************************
2022-11-15 20:20:55,669 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:55,672 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:55,696 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:55,711 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | installing mariadb mysql] ********************************************************************************************************
2022-11-15 20:20:55,800 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:55,874 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:55,925 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:55,942 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | remove migrated-from-my.cnf-settings.conf that is causing MariaDB to not start] **************************************************
2022-11-15 20:20:56,003 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,027 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,036 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,058 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : redhat | ensuring mariadb mysql is enabled on boot] ***************************************************************************************
2022-11-15 20:20:56,125 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,130 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,148 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,163 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Create folder] ***********************************************************************************************************
2022-11-15 20:20:56,235 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,252 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,266 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,280 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : max-open-files | Add the overriding file] *************************************************************************************************
2022-11-15 20:20:56,335 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,353 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,369 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,385 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | create folder] *********************************************************************************************************
2022-11-15 20:20:56,484 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,485 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,499 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,515 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : oom_score_adjust | add the overriding file] ***********************************************************************************************
2022-11-15 20:20:56,561 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,564 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,595 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,608 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Create folder] ********************************************************************************************************
2022-11-15 20:20:56,658 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,666 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,690 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,709 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : timeout-start-sec | Add the overriding file] **********************************************************************************************
2022-11-15 20:20:56,777 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,779 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,831 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,853 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : system_perfromance_tuning | configure swappiness] *****************************************************************************************
2022-11-15 20:20:56,931 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:56,932 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:56,954 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:56,968 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : flush handlers before continuing] *********************************************************************************************************
2022-11-15 20:20:56,985 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : ensure mariadb is started on first node] **************************************************************************************************
2022-11-15 20:20:57,060 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:57,063 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:58,941 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:20:58,973 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Check if mysql exists in the system] ******************************************************************************************************
2022-11-15 20:20:59,458 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:20:59,480 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Fail if the above user does not exist] ****************************************************************************************************
2022-11-15 20:20:59,506 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:59,538 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via unix_socket] ***********************************************************************************
2022-11-15 20:20:59,589 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:20:59,641 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Create definition for mariadb_sst_user via mysql_native_password] *************************************************************************
2022-11-15 20:20:59,674 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:59,722 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_users | create MySQL users] *********************************************************************************************************
2022-11-15 20:20:59,751 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:59,762 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | mark galera cluster node unconfigured] ************************************************************************************
2022-11-15 20:20:59,815 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:20:59,817 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:20:59,843 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:20:59,866 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | checking if galera cluster already configured] ****************************************************************************
2022-11-15 20:21:00,221 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:21:00,224 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:21:00,228 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:21:00,250 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | create TLS certificates directory] ****************************************************************************************
2022-11-15 20:21:00,303 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:00,313 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:00,332 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:00,343 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | copy TLS CA cert, server cert & private key] ******************************************************************************
2022-11-15 20:21:00,383 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:00,397 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:00,409 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:00,431 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP ist.recv_] **************************************************************************************************************************
2022-11-15 20:21:00,535 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:21:00,563 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:21:00,594 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:21:00,608 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : WSREP TLS encryption settings] ************************************************************************************************************
2022-11-15 20:21:00,646 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:00,692 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:00,706 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:00,741 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Add galera_use_gmcast_segment if present] *************************************************************************************************
2022-11-15 20:21:00,843 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:00,844 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:00,881 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:00,903 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : Show all galera_extra_wsrep_provider_options] *********************************************************************************************
2022-11-15 20:21:00,969 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:01,021 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:01,024 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:01,035 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | configuring settings for mariadb and galera] ******************************************************************************
2022-11-15 20:21:01,852 p=4454 u=munish n=ansible | changed: [target1] => (item=etc/mysql/debian.cnf)
2022-11-15 20:21:01,916 p=4454 u=munish n=ansible | changed: [target2] => (item=etc/mysql/debian.cnf)
2022-11-15 20:21:01,942 p=4454 u=munish n=ansible | changed: [target3] => (item=etc/mysql/debian.cnf)
2022-11-15 20:21:02,537 p=4454 u=munish n=ansible | changed: [target2] => (item=etc/mysql/my.cnf)
2022-11-15 20:21:02,568 p=4454 u=munish n=ansible | changed: [target1] => (item=etc/mysql/my.cnf)
2022-11-15 20:21:02,614 p=4454 u=munish n=ansible | changed: [target3] => (item=etc/mysql/my.cnf)
2022-11-15 20:21:02,785 p=15249 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 20:21:02,823 p=15250 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 20:21:02,901 p=15248 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 20:21:03,544 p=4454 u=munish n=ansible | changed: [target2] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 20:21:03,603 p=4454 u=munish n=ansible | changed: [target3] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 20:21:03,649 p=4454 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 20:21:03,681 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (first node)] **************************************************************
2022-11-15 20:21:03,738 p=4454 u=munish n=ansible | skipping: [target1] => (item=target1) 
2022-11-15 20:21:03,780 p=4454 u=munish n=ansible | skipping: [target2] => (item=target1) 
2022-11-15 20:21:03,794 p=4454 u=munish n=ansible | skipping: [target3] => (item=target1) 
2022-11-15 20:21:03,809 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster rolling restart - apply config changes (other nodes)] *************************************************************
2022-11-15 20:21:03,850 p=4454 u=munish n=ansible | skipping: [target1] => (item=target2) 
2022-11-15 20:21:03,862 p=4454 u=munish n=ansible | skipping: [target1] => (item=target3) 
2022-11-15 20:21:03,887 p=4454 u=munish n=ansible | skipping: [target2] => (item=target2) 
2022-11-15 20:21:03,888 p=4454 u=munish n=ansible | skipping: [target2] => (item=target3) 
2022-11-15 20:21:03,898 p=4454 u=munish n=ansible | skipping: [target3] => (item=target2) 
2022-11-15 20:21:03,898 p=4454 u=munish n=ansible | skipping: [target3] => (item=target3) 
2022-11-15 20:21:03,914 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (other nodes)] ************************************************
2022-11-15 20:21:04,078 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target2)
2022-11-15 20:21:04,083 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target3)
2022-11-15 20:21:04,129 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ************************************************************************************
2022-11-15 20:21:04,156 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:04,193 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:04,612 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:21:04,648 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:21:04,707 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:04,728 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:05,164 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:21:05,176 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:21:05,218 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:05,220 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:05,232 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:05,263 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:21:05,312 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:05,348 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:05,380 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:05,393 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ************************************************************************************
2022-11-15 20:21:05,450 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:05,451 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:05,878 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:21:05,887 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:21:05,950 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:05,985 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:06,374 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:21:06,384 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:21:06,435 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:06,436 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:06,445 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:06,490 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:21:06,529 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:06,560 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:06,601 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:06,616 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - stopping mysql to (re)configure cluster (first node)] *************************************************
2022-11-15 20:21:06,763 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 20:21:06,838 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service stopped] ************************************************************************************
2022-11-15 20:21:06,904 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:06,920 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:08,427 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:21:08,451 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:21:08,506 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:08,524 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:08,890 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:21:08,906 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:21:08,942 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:08,944 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:08,965 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:08,990 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:21:09,063 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:09,136 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:09,165 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:09,187 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | custer bootstrap - killing lingering mysql processes to ensure mysql is stopped] ******************************************
2022-11-15 20:21:09,737 p=4454 u=munish n=ansible | fatal: [target2]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.011021", "end": "2022-11-16 01:21:09.692290", "msg": "non-zero return code", "rc": 1, "start": "2022-11-16 01:21:09.681269", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 20:21:09,738 p=4454 u=munish n=ansible | ...ignoring
2022-11-15 20:21:09,748 p=4454 u=munish n=ansible | fatal: [target1]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.006855", "end": "2022-11-16 01:21:09.699049", "msg": "non-zero return code", "rc": 1, "start": "2022-11-16 01:21:09.692194", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 20:21:09,749 p=4454 u=munish n=ansible | ...ignoring
2022-11-15 20:21:09,849 p=4454 u=munish n=ansible | fatal: [target3]: FAILED! => {"changed": true, "cmd": ["pkill", "mariadb"], "delta": "0:00:00.005313", "end": "2022-11-16 01:21:09.738602", "msg": "non-zero return code", "rc": 1, "start": "2022-11-16 01:21:09.733289", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2022-11-15 20:21:09,849 p=4454 u=munish n=ansible | ...ignoring
2022-11-15 20:21:09,856 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring temp galera config for first node] ********************************************************
2022-11-15 20:21:09,914 p=4454 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 20:21:09,931 p=4454 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 20:21:10,098 p=16457 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 20:21:10,675 p=4454 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 20:21:10,693 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | update galera_new_cluster and use /etc/init.d/ instead of systemctl] ******************************************************
2022-11-15 20:21:11,078 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:21:11,134 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:21:11,155 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:21:11,214 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - bootstrapping first node] *****************************************************************************
2022-11-15 20:21:11,296 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:11,311 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:14,075 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:21:14,084 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - ensure first node is fully started before joining other nodes] ****************************************
2022-11-15 20:21:14,189 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target2, target1, target3 => (item=target1)
2022-11-15 20:21:14,256 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ************************************************************************************
2022-11-15 20:21:14,311 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:14,333 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:14,661 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:21:14,668 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:21:14,717 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:14,736 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:14,750 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:14,760 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:21:14,834 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:14,845 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:15,161 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:21:15,217 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:21:15,289 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:15,303 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:30,661 p=4454 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-15 20:21:30,681 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - joining galera cluster] *******************************************************************************
2022-11-15 20:21:30,811 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target2)
2022-11-15 20:21:30,816 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target3)
2022-11-15 20:21:30,867 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ************************************************************************************
2022-11-15 20:21:30,921 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:30,944 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:37,750 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:21:37,766 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:21:37,825 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:37,832 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:21:37,849 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:37,865 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:21:37,927 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:37,964 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:38,320 p=4454 u=munish n=ansible | ok: [target2]
2022-11-15 20:21:38,369 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:21:38,436 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:38,526 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:21:53,806 p=4454 u=munish n=ansible | ok: [target2 -> localhost]
2022-11-15 20:21:53,835 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service started] ************************************************************************************
2022-11-15 20:21:53,880 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:21:53,887 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:00,794 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:22:00,801 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:22:00,841 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:00,874 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:00,900 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:00,924 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:22:00,973 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:01,002 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:01,327 p=4454 u=munish n=ansible | ok: [target3]
2022-11-15 20:22:01,348 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:22:01,375 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:01,418 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:16,649 p=4454 u=munish n=ansible | ok: [target3 -> localhost]
2022-11-15 20:22:16,660 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - configuring final galera config for first node] *******************************************************
2022-11-15 20:22:16,749 p=4454 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/debian.cnf) 
2022-11-15 20:22:16,758 p=4454 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/my.cnf) 
2022-11-15 20:22:16,766 p=4454 u=munish n=ansible | skipping: [target2] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 20:22:16,783 p=4454 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/debian.cnf) 
2022-11-15 20:22:16,791 p=4454 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/my.cnf) 
2022-11-15 20:22:16,796 p=4454 u=munish n=ansible | skipping: [target3] => (item=etc/mysql/conf.d/galera.cnf) 
2022-11-15 20:22:17,492 p=4454 u=munish n=ansible | ok: [target1] => (item=etc/mysql/debian.cnf)
2022-11-15 20:22:17,935 p=4454 u=munish n=ansible | ok: [target1] => (item=etc/mysql/my.cnf)
2022-11-15 20:22:18,070 p=19345 u=munish n=ansible | [DEPRECATION WARNING]: Use 'ansible.utils.ipwrap' module instead. This feature will be removed from ansible.netcommon in a release after 2024-01-01. Deprecation warnings can be 
disabled by setting deprecation_warnings=False in ansible.cfg.
2022-11-15 20:22:18,511 p=4454 u=munish n=ansible | changed: [target1] => (item=etc/mysql/conf.d/galera.cnf)
2022-11-15 20:22:18,521 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - restarting first node with final galera config] *******************************************************
2022-11-15 20:22:18,602 p=4454 u=munish n=ansible | included: /home/munish/Documents/gitrepo/eth-stack/roles/ansible-mariadb-galera-cluster/tasks/manage_node_state.yml for target1, target2, target3 => (item=target1)
2022-11-15 20:22:18,700 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | make node systemd service restarted] **********************************************************************************
2022-11-15 20:22:18,768 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:18,779 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:26,597 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:22:26,606 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully stopped before continuing] ***********************************************************************
2022-11-15 20:22:26,686 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:26,693 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:26,711 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:26,729 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | ensure node is fully started before continuing] ***********************************************************************
2022-11-15 20:22:26,795 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:26,807 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:27,152 p=4454 u=munish n=ansible | ok: [target1]
2022-11-15 20:22:27,183 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : manage_node_state | sleep for extra 15 seconds to wait for node state stabilization] ******************************************************
2022-11-15 20:22:27,260 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:27,269 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:42,545 p=4454 u=munish n=ansible | ok: [target1 -> localhost]
2022-11-15 20:22:42,556 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : setup_cluster | cluster bootstrap - marking node as configured for galera cluster] ********************************************************
2022-11-15 20:22:42,906 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:22:42,964 p=4454 u=munish n=ansible | changed: [target3]
2022-11-15 20:22:43,022 p=4454 u=munish n=ansible | changed: [target2]
2022-11-15 20:22:43,036 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | configuring root my.cnf] ******************************************************************************************
2022-11-15 20:22:43,087 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:43,090 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:43,105 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:43,115 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords] ******************************************************************************************
2022-11-15 20:22:43,721 p=4454 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 20:22:44,147 p=4454 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 20:22:44,548 p=4454 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 20:22:44,942 p=4454 u=munish n=ansible | changed: [target1] => (item=None)
2022-11-15 20:22:44,943 p=4454 u=munish n=ansible | changed: [target1]
2022-11-15 20:22:44,956 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : configure_root_access | updating root passwords (allow from anywhere)] ********************************************************************
2022-11-15 20:22:44,980 p=4454 u=munish n=ansible | skipping: [target1] => (item=None) 
2022-11-15 20:22:45,036 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,053 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | create the databases] ***************************************************************************************************
2022-11-15 20:22:45,122 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | copy database init scripts] *********************************************************************************************
2022-11-15 20:22:45,199 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | initialise databases] ***************************************************************************************************
2022-11-15 20:22:45,283 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : mysql_databases | delete init scripts from the server] ************************************************************************************
2022-11-15 20:22:45,385 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | configuring monitor script for galera] ********************************************************************************
2022-11-15 20:22:45,436 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,437 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:45,458 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:45,474 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on first node] ***************************************************************************************
2022-11-15 20:22:45,512 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,524 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:45,528 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:45,551 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on first node] *****************************************************************************
2022-11-15 20:22:45,580 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,598 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | restarting mysql on additional servers] *******************************************************************************
2022-11-15 20:22:45,643 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,678 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:45,714 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:45,742 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : galera_monitoring | waiting for mysql to start on other nodes] ****************************************************************************
2022-11-15 20:22:45,819 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,820 p=4454 u=munish n=ansible | skipping: [target2]
2022-11-15 20:22:45,837 p=4454 u=munish n=ansible | skipping: [target3]
2022-11-15 20:22:45,861 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ***********************************************************************************
2022-11-15 20:22:45,891 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:45,935 p=4454 u=munish n=ansible | TASK [ansible-mariadb-galera-cluster : cacti_monitoring | adding cacti db user for monitoring] ***********************************************************************************
2022-11-15 20:22:45,970 p=4454 u=munish n=ansible | skipping: [target1]
2022-11-15 20:22:46,040 p=4454 u=munish n=ansible | PLAY RECAP ***********************************************************************************************************************************************************************
2022-11-15 20:22:46,040 p=4454 u=munish n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2022-11-15 20:22:46,041 p=4454 u=munish n=ansible | target1                    : ok=40   changed=17   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 20:22:46,041 p=4454 u=munish n=ansible | target2                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
2022-11-15 20:22:46,042 p=4454 u=munish n=ansible | target3                    : ok=30   changed=11   unreachable=0    failed=0    skipped=64   rescued=0    ignored=1   
